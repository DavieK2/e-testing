import{S as we,i as pe,s as _e,w as me,f as g,c as I,g as v,n as ke,h,j as J,k as c,m as j,C as he,q as qe,t as p,B as Ae,a as A,l as K,d as Q,D as ve,o as Ce,F as ye,y as Be}from"./app-6d9f305e.js";import H from"./select-5f1b2e78.js";import Te from"./QuestionCard-23157eeb.js";import Ne from"./button-8a7fdb21.js";import Se from"./icons-c5a046aa.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";function de(n,l,s){const m=n.slice();return m[27]=l[s],m[29]=s,m}function Ie(n){let l,s,m,i,r,a;function _(){return n[23](n[27])}return{c(){l=g("div"),s=g("button"),s.textContent="Edit",m=v(),i=g("button"),i.textContent="Delete",h(s,"class","px-4 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-xs"),h(i,"class","px-4 py-2.5 bg-red-500 text-red-50 rounded-lg text-xs"),h(l,"class","flex space-x-2 pt-5")},m(C,B){J(C,l,B),c(l,s),c(l,m),c(l,i),r||(a=he(s,"click",_),r=!0)},p(C,B){n=C},d(C){C&&K(l),r=!1,a()}}}function ge(n){let l,s,m;return l=new Te({props:{hasBeenAssigned:n[27].isAssigned,sectionTitle:n[27].sectionTitle,questionId:n[27].questionId,question:n[27].question,questionOptions:n[27].options,correctAnswer:n[27].correctAnswer,questionNumber:n[29]+1,questionScore:n[27].questionScore,showCheckBox:n[27].isAssigned=="Not Assigned",checked:n[12](n[27].questionId),showOptions:n[27].questionType!="theory",$$slots:{default:[Ie]},$$scope:{ctx:n}}}),l.$on("checked",n[24]),l.$on("unchecked",n[25]),{c(){I(l.$$.fragment),s=v()},m(i,r){j(l,i,r),J(i,s,r),m=!0},p(i,r){const a={};r&256&&(a.hasBeenAssigned=i[27].isAssigned),r&256&&(a.sectionTitle=i[27].sectionTitle),r&256&&(a.questionId=i[27].questionId),r&256&&(a.question=i[27].question),r&256&&(a.questionOptions=i[27].options),r&256&&(a.correctAnswer=i[27].correctAnswer),r&256&&(a.questionScore=i[27].questionScore),r&256&&(a.showCheckBox=i[27].isAssigned=="Not Assigned"),r&4352&&(a.checked=i[12](i[27].questionId)),r&256&&(a.showOptions=i[27].questionType!="theory"),r&1073742080&&(a.$$scope={dirty:r,ctx:i}),l.$set(a)},i(i){m||(p(l.$$.fragment,i),m=!0)},o(i){A(l.$$.fragment,i),m=!1},d(i){i&&K(s),Q(l,i)}}}function je(n){let l,s,m,i,r,a,_,C,B,T,Y,U,k,Z,f,d,O,N,b,L,x,E,P,y,$,S,D,R=n[10]?"Uncheck All":"Check All",t,q,M,te,V,W,ee,X,z,se,ne;i=new H({props:{options:n[4],className:"bg-white text-sm",placeholder:"Class"}}),_=new H({props:{options:n[3],className:"bg-white text-sm",placeholder:"Subject"}}),T=new H({props:{options:n[1],className:"bg-white text-sm",placeholder:"Assessment Type"}}),k=new H({props:{options:n[6],className:"bg-white text-sm",placeholder:"Term"}}),d=new H({props:{options:n[5],className:"bg-white text-sm",placeholder:"Session"}}),b=new H({props:{options:n[2],className:"bg-white text-sm",placeholder:"Assessment Category"}}),y=new H({props:{options:n[7],placeholder:"All Sections",className:"text-sm py-2.5"}}),y.$on("selected",n[21]),y.$on("deselected",n[22]),M=new Ne({props:{disabled:n[0],buttonText:"Assign",className:"text-sm"}}),M.$on("click",n[17]),W=new Se({props:{icon:"trash",className:"stroke-white h-6 w-6"}});let F=me(n[8]),u=[];for(let e=0;e<F.length;e+=1)u[e]=ge(de(n,F,e));const be=e=>A(u[e],1,1,()=>{u[e]=null});return{c(){l=g("div"),s=g("div"),m=g("div"),I(i.$$.fragment),r=v(),a=g("div"),I(_.$$.fragment),C=v(),B=g("div"),I(T.$$.fragment),Y=v(),U=g("div"),I(k.$$.fragment),Z=v(),f=g("div"),I(d.$$.fragment),O=v(),N=g("div"),I(b.$$.fragment),L=v(),x=g("div"),E=g("div"),P=g("div"),I(y.$$.fragment),$=v(),S=g("div"),D=g("button"),t=ke(R),q=v(),I(M.$$.fragment),te=v(),V=g("button"),I(W.$$.fragment),ee=v(),X=g("div");for(let e=0;e<u.length;e+=1)u[e].c();h(m,"class","w-full max-w-sm"),h(a,"class","w-full max-w-sm"),h(B,"class","w-full max-w-sm"),h(U,"class","w-full max-w-sm"),h(f,"class","w-full min-w-max"),h(N,"class","w-full max-w-sm"),h(s,"class","grid grid-cols-3 gap-2 items-center justify-between w-full "),h(l,"class","fixed flex items-center border-b border-gray-100 space-x-3 w-[36rem] py-3 px-8 bg-white border-r transition"),h(P,"class","flex space-x-3 items-center w-full"),D.disabled=n[11],h(D,"class","p-2.5 rounded-lg border-2 min-w-max max-w-min border-gray-600 text-gray-600 font-semibold disabled:border-gray-400 disabled:text-gray-400"),V.disabled=n[0],h(V,"class","p-2.5 rounded-lg min-w-max max-w-min bg-red-600 hover:bg-red-700 font-semibold transition disabled:bg-red-400"),h(S,"class","flex space-x-2 text-sm"),h(E,"class","flex space-x-8 items-center h-full justify-between"),h(x,"class","fixed px-8 z-40 w-[36rem] h-16 border-b border-r border-gray-100 bg-white shrink-0 mt-[7.5rem]"),h(X,"class","fixed w-[36rem] flex flex-col mt-16 h-[calc(100vh-24.5rem)] items-center bottom-0 pb-20 border-r border-gray-100 question overflow-x-hidden overflow-y-auto pl-4 bg-white svelte-1et1clp")},m(e,o){J(e,l,o),c(l,s),c(s,m),j(i,m,null),c(s,r),c(s,a),j(_,a,null),c(s,C),c(s,B),j(T,B,null),c(s,Y),c(s,U),j(k,U,null),c(s,Z),c(s,f),j(d,f,null),c(s,O),c(s,N),j(b,N,null),J(e,L,o),J(e,x,o),c(x,E),c(E,P),j(y,P,null),c(E,$),c(E,S),c(S,D),c(D,t),c(S,q),j(M,S,null),c(S,te),c(S,V),j(W,V,null),J(e,ee,o),J(e,X,o);for(let G=0;G<u.length;G+=1)u[G]&&u[G].m(X,null);z=!0,se||(ne=he(D,"click",n[16]),se=!0)},p(e,[o]){const G={};o&16&&(G.options=e[4]),i.$set(G);const le={};o&8&&(le.options=e[3]),_.$set(le);const ie={};o&2&&(ie.options=e[1]),T.$set(ie);const oe={};o&64&&(oe.options=e[6]),k.$set(oe);const ae={};o&32&&(ae.options=e[5]),d.$set(ae);const re={};o&4&&(re.options=e[2]),b.$set(re);const ce={};o&128&&(ce.options=e[7]),y.$set(ce),(!z||o&1024)&&R!==(R=e[10]?"Uncheck All":"Check All")&&qe(t,R),(!z||o&2048)&&(D.disabled=e[11]);const fe={};if(o&1&&(fe.disabled=e[0]),M.$set(fe),(!z||o&1)&&(V.disabled=e[0]),o&61696){F=me(e[8]);let w;for(w=0;w<F.length;w+=1){const ue=de(e,F,w);u[w]?(u[w].p(ue,o),p(u[w],1)):(u[w]=ge(ue),u[w].c(),p(u[w],1),u[w].m(X,null))}for(Be(),w=F.length;w<u.length;w+=1)be(w);Ae()}},i(e){if(!z){p(i.$$.fragment,e),p(_.$$.fragment,e),p(T.$$.fragment,e),p(k.$$.fragment,e),p(d.$$.fragment,e),p(b.$$.fragment,e),p(y.$$.fragment,e),p(M.$$.fragment,e),p(W.$$.fragment,e);for(let o=0;o<F.length;o+=1)p(u[o]);z=!0}},o(e){A(i.$$.fragment,e),A(_.$$.fragment,e),A(T.$$.fragment,e),A(k.$$.fragment,e),A(d.$$.fragment,e),A(b.$$.fragment,e),A(y.$$.fragment,e),A(M.$$.fragment,e),A(W.$$.fragment,e),u=u.filter(Boolean);for(let o=0;o<u.length;o+=1)A(u[o]);z=!1},d(e){e&&(K(l),K(L),K(x),K(ee),K(X)),Q(i),Q(_),Q(T),Q(k),Q(d),Q(b),Q(y),Q(M),Q(W),ve(u,e),se=!1,ne()}}}function Qe(n,l,s){let m,i,{hasBeenAssigned:r}=l,{questionBank:a=[]}=l,{assessmentTypes:_=[]}=l,{assessmentCategories:C=[]}=l,{subjects:B=[]}=l,{classes:T=[]}=l,{sessions:Y=[]}=l,{terms:U=[]}=l,{disabled:k=!1}=l,{sections:Z=[]}=l,f=[],d=[],O,N=!1;Ce(()=>{s(8,d=a)});const b=ye(),L=t=>{f.push(t),s(20,f),b("select-question",{questionId:t})},x=t=>{s(20,f=f.filter(q=>q!=t)),b("deselect-question",{questionId:t})},E=()=>{N?(b("check-all",{questions:f,checkedAll:N}),s(20,f=f.filter(t=>!d.some(q=>t===q.questionId)))):(d.flatMap(t=>[t.questionId]).forEach(t=>{f.some(q=>q===t)||f.push(t)}),s(20,f),b("check-all",{questions:f,checkedAll:N}))},P=()=>{s(0,k=!0),b("mass-assign",{selectedQuestions:f}),s(20,f=[])},y=t=>s(9,O=t.detail.value),$=t=>s(9,O=null),S=t=>b("edit",t),D=t=>L(t.detail.value),R=t=>x(t.detail.value);return n.$$set=t=>{"hasBeenAssigned"in t&&s(18,r=t.hasBeenAssigned),"questionBank"in t&&s(19,a=t.questionBank),"assessmentTypes"in t&&s(1,_=t.assessmentTypes),"assessmentCategories"in t&&s(2,C=t.assessmentCategories),"subjects"in t&&s(3,B=t.subjects),"classes"in t&&s(4,T=t.classes),"sessions"in t&&s(5,Y=t.sessions),"terms"in t&&s(6,U=t.terms),"disabled"in t&&s(0,k=t.disabled),"sections"in t&&s(7,Z=t.sections)},n.$$.update=()=>{n.$$.dirty&524800&&(O?s(8,d=a.filter(t=>t.sectionId===O)):s(8,d=a)),n.$$.dirty&1048832&&s(0,k=f.length===0||d.length===0),n.$$.dirty&1048576&&s(12,m=t=>f.some(q=>t===q)),n.$$.dirty&256&&s(11,i=d.length===0),n.$$.dirty&1048832&&s(10,N=d.filter(t=>f.some(q=>t.questionId===q)).length===d.length&&d.length!==0)},[k,_,C,B,T,Y,U,Z,d,O,N,i,m,b,L,x,E,P,r,a,f,y,$,S,D,R]}class Fe extends we{constructor(l){super(),pe(this,l,Qe,je,_e,{hasBeenAssigned:18,questionBank:19,assessmentTypes:1,assessmentCategories:2,subjects:3,classes:4,sessions:5,terms:6,disabled:0,sections:7})}}export{Fe as default};
