import{S as gs,i as ws,s as hs,g as w,x as pt,j as O,t as x,a as C,B as tt,l as E,o as ps,w as Be,f as u,n as D,W as Ht,c as P,h as d,L as Yt,k as s,m as U,q as H,y as st,z as _s,A as vs,D as Gt,d as W,C as vt,u as ks}from"./app-6d9f305e.js";import Ue from"./button-8a7fdb21.js";import Pe from"./qchip-5bb5e704.js";import Is from"./QuestionCard-18e2fd0f.js";import{r as ht}from"./util-f704b04e.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";function Kt(n,t,e){const c=n.slice();return c[55]=t[e],c[57]=e,c}function Xt(n,t,e){const c=n.slice();return c[55]=t[e],c[57]=e,c}function Zt(n,t,e){const c=n.slice();return c[59]=t[e],c[57]=e,c}function $t(n){var Et;let t,e,c,f,o,i,a,I,_,k,F,de,ce,ne=`${n[13]} : ${n[14]} : ${n[15]}`,ue,We,Y,te,ae,Je,me,G,R,se,ze,y,A,m,K,xe,$,p,b,J,Ae,re,le,lt,ee,be,De,He,Se,nt,qe,Ye,Ge,Ke,j,ge,rt,Ce,Ne,Fe=n[18].description+"",Xe,l,h,S,X,B=[],kt=new Map,It,Re,je,we,yt,oe,xt,_t,ie,At,fe,ot,St,it,ft,Ze,qt,dt,Te,ct,z,Me,he,Ct,ut,Nt,Qe,pe,Ft,at,Rt,Le,_e,jt,mt,Tt,Ve,ve,Mt,bt,Qt,Oe,ke,Lt,gt,Vt,wt,Ie,Z,M=n[4]&&es(n),Q=n[7]&&ts(n),L=n[8]&&ss(n),V=n[5]&&ls(n),Ee=Be(n[16]),T=[];for(let r=0;r<Ee.length;r+=1)T[r]=ns(Zt(n,Ee,r));let $e=Be(n[9]);const Ot=r=>r[55].questionId;for(let r=0;r<$e.length;r+=1){let g=Xt(n,$e,r),N=Ot(g);kt.set(N,B[r]=os(N,g))}we=new Ue({props:{buttonText:"Clear Answer",className:"bg-white font-medium text-sm border-2 border-red-500 text-red-500 px-6 hover:bg-red-500 hover:text-white focus:bg-transparent focus:ring-transparent focus:text-red-500"}}),we.$on("click",n[25]),oe=new Ue({props:{buttonText:(Et=n[9][n[10]-1])!=null&&Et.markedForReview?"Unmark For Review":"Mark For Review",className:"bg-white font-medium text-sm border-2 border-yellow-600 text-yellow-600 px-6 hover:bg-yellow-600 hover:text-white min-w-max focus:bg-transparent focus:text-yellow-600 focus:ring-transparent"}}),oe.$on("click",n[22]),ie=new Ue({props:{disabled:n[21],buttonText:"Save & Next",className:""}}),ie.$on("click",n[26]);let ye=Be(n[9]),q=[];for(let r=0;r<ye.length;r+=1)q[r]=is(Kt(n,ye,r));const bs=r=>C(q[r],1,1,()=>{q[r]=null});return he=new Pe({props:{color:ds,qNumber:n[20]("answered")}}),pe=new Pe({props:{color:cs,qNumber:n[20]("notAnswered")}}),_e=new Pe({props:{color:us,qNumber:n[20]("markedForReview")}}),ve=new Pe({props:{color:as,qNumber:n[20]("markedForReviewAndAnswered")}}),ke=new Pe({props:{color:ms,qNumber:n[20]("notVisited")}}),Ie=new Ue({props:{buttonText:"Submit & Finish",className:"bg-red-500 text-white hover:bg-red-400 focus:bg-red-500 focus:ring-red-300"}}),Ie.$on("click",n[29]),{c(){t=u("div"),e=u("div"),c=u("p"),f=D(n[0]),o=w(),i=u("div"),a=u("div"),a.innerHTML='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 stroke-white"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path></svg>',I=w(),_=u("div"),k=Ht("svg"),F=Ht("path"),de=w(),ce=u("p"),ue=D(ne),We=w(),Y=u("div"),te=u("div"),ae=u("div"),ae.textContent="Candidate Info",Je=w(),me=u("div"),G=u("div"),R=u("img"),ze=w(),y=u("div"),A=u("div"),m=u("p"),m.textContent="Student Name:",K=w(),xe=u("p"),$=D(n[1]),p=w(),b=u("div"),J=u("p"),J.textContent="Student Code:",Ae=w(),re=u("p"),le=D(n[3]),lt=w(),ee=u("div"),be=u("p"),be.textContent="Level:",De=w(),He=u("p"),Se=D(n[6]),nt=w(),M&&M.c(),qe=w(),Q&&Q.c(),Ye=w(),L&&L.c(),Ge=w(),V&&V.c(),Ke=w(),j=u("div"),ge=u("div");for(let r=0;r<T.length;r+=1)T[r].c();rt=w(),Ce=u("div"),Ne=u("p"),Xe=D(Fe),l=w(),h=u("div"),S=u("div"),X=u("div");for(let r=0;r<B.length;r+=1)B[r].c();It=w(),Re=u("div"),je=u("div"),P(we.$$.fragment),yt=w(),P(oe.$$.fragment),xt=w(),_t=u("div"),P(ie.$$.fragment),At=w(),fe=u("div"),ot=u("div"),ot.innerHTML="",St=w(),it=u("div"),ft=u("div"),Ze=u("div");for(let r=0;r<q.length;r+=1)q[r].c();qt=w(),dt=u("div"),Te=u("div"),ct=u("div"),z=u("div"),Me=u("div"),P(he.$$.fragment),Ct=w(),ut=u("span"),ut.textContent="Answered",Nt=w(),Qe=u("div"),P(pe.$$.fragment),Ft=w(),at=u("span"),at.textContent="Not Answered",Rt=w(),Le=u("div"),P(_e.$$.fragment),jt=w(),mt=u("span"),mt.textContent="Marked For Review",Tt=w(),Ve=u("div"),P(ve.$$.fragment),Mt=w(),bt=u("span"),bt.textContent="Answered and Marked For Review",Qt=w(),Oe=u("div"),P(ke.$$.fragment),Lt=w(),gt=u("span"),gt.textContent="Not Visited",Vt=w(),wt=u("div"),P(Ie.$$.fragment),d(c,"class","text-white text-lg font-medium font-mono"),d(a,"class","h-9 w-9 bg-gray-700 rounded flex items-center justify-center"),d(F,"stroke-linecap","round"),d(F,"stroke-linejoin","round"),d(F,"stroke-width","2"),d(F,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),d(k,"fill","none"),d(k,"stroke","currentColor"),d(k,"viewBox","0 0 24 24"),d(k,"xmlns","http://www.w3.org/2000/svg"),d(k,"class","w-5 h-5 stroke-white"),d(ce,"class","text-white font-mono font-extrabold"),d(_,"class","h-9 bg-gray-700 rounded flex items-center justify-center px-3 space-x-2"),d(i,"class","flex space-x-2"),d(e,"class","fixed inset-0 flex items-center justify-between h-16 w-full z-50 bg-gray-800 px-8"),d(ae,"class","flex items-center shrink-0 w-full border-b border-r border-gray-300 h-16 bg-white px-8 font-semibold uppercase"),Yt(R.src,se=`/${n[2]}`)||d(R,"src",se),d(R,"alt",""),d(R,"class","rounded-lg"),d(R,"height","200"),d(R,"width","200"),d(m,"class","font-semibold"),d(A,"class","space-y-1 text-sm"),d(J,"class","font-semibold"),d(b,"class","space-y-1 text-sm"),d(be,"class","font-semibold"),d(ee,"class","space-y-1 text-sm"),d(y,"class","flex flex-col space-y-5 mt-10"),d(G,"class","flex flex-col w-full overflow-y-auto"),d(me,"class","flex flex-col h-full w-full bg-gray-50 px-8 py-6 border-r"),d(te,"class","relative flex flex-col w-64 shrink-0 bg-gray-50"),d(ge,"class","flex items-center space-x-4 w-full shrink-0 border-b h-16 border-gray-300 px-8"),d(Ne,"class","p-8 text-sm"),d(Ce,"class","flex flex-col justify-center h-48 border-b border-gray-300 bg-gray-50/50 overflow-y-auto"),d(X,"class","max-w-xl"),d(S,"class","w-full h-full overflow-y-auto"),d(h,"class","flex flex-col w-full h-[calc(100vh-25rem)] px-8 py-6"),d(je,"class","flex space-x-2"),d(Re,"class","flex items-center justify-between absolute bottom-0 inset-x-0 bg-white border-t border-b h-20 border-gray-300 px-6"),d(j,"class","relative flex flex-col flex-1 bg-white border-r"),d(ot,"class","shrink-0 w-full border-b border-gray-300 h-16 bg-white"),d(Ze,"class","grid grid-cols-5 gap-4"),d(ft,"class","flex flex-col w-full overflow-y-auto"),d(it,"class","flex flex-col h-[calc(100vh-26rem)] w-full bg-gray-50 px-8 py-6"),d(ut,"class","text-xs text-gray-700"),d(Me,"class","flex items-center space-x-2"),d(at,"class","text-xs text-gray-700"),d(Qe,"class","flex items-center space-x-2"),d(mt,"class","text-xs text-gray-700"),d(Le,"class","flex items-center space-x-2"),d(bt,"class","text-xs text-gray-700"),d(Ve,"class","flex items-center space-x-2"),d(gt,"class","text-xs text-gray-700"),d(Oe,"class","flex items-center space-x-2"),d(z,"class","grid grid-cols-2 w-full gap-4"),d(ct,"class","flex flex-col justify-center items-center w-full h-full px-8 pt-6 pb-24"),d(wt,"class","flex items-center justify-between absolute bottom-0 inset-x-0 bg-white border-t h-20 border-gray-300 px-6"),d(Te,"class","relative w-full h-full"),d(dt,"class","flex items-center justify-between absolute bottom-0 inset-x-0 bg-white border-t h-72 border-gray-300"),d(fe,"class","relative flex flex-col w-96 shrink-0 bg-gray-50"),d(Y,"class","fixed inset-0 pt-16 flex w-full min-h-screen"),d(t,"class","bg-yellow-400 relative min-h-screen w-full")},m(r,g){O(r,t,g),s(t,e),s(e,c),s(c,f),s(e,o),s(e,i),s(i,a),s(i,I),s(i,_),s(_,k),s(k,F),s(_,de),s(_,ce),s(ce,ue),s(t,We),s(t,Y),s(Y,te),s(te,ae),s(te,Je),s(te,me),s(me,G),s(G,R),s(G,ze),s(G,y),s(y,A),s(A,m),s(A,K),s(A,xe),s(xe,$),s(y,p),s(y,b),s(b,J),s(b,Ae),s(b,re),s(re,le),s(y,lt),s(y,ee),s(ee,be),s(ee,De),s(ee,He),s(He,Se),s(y,nt),M&&M.m(y,null),s(y,qe),Q&&Q.m(y,null),s(y,Ye),L&&L.m(y,null),s(y,Ge),V&&V.m(y,null),s(Y,Ke),s(Y,j),s(j,ge);for(let N=0;N<T.length;N+=1)T[N]&&T[N].m(ge,null);s(j,rt),s(j,Ce),s(Ce,Ne),s(Ne,Xe),s(j,l),s(j,h),s(h,S),s(S,X);for(let N=0;N<B.length;N+=1)B[N]&&B[N].m(X,null);s(j,It),s(j,Re),s(Re,je),U(we,je,null),s(je,yt),U(oe,je,null),s(Re,xt),s(Re,_t),U(ie,_t,null),s(Y,At),s(Y,fe),s(fe,ot),s(fe,St),s(fe,it),s(it,ft),s(ft,Ze);for(let N=0;N<q.length;N+=1)q[N]&&q[N].m(Ze,null);s(fe,qt),s(fe,dt),s(dt,Te),s(Te,ct),s(ct,z),s(z,Me),U(he,Me,null),s(Me,Ct),s(Me,ut),s(z,Nt),s(z,Qe),U(pe,Qe,null),s(Qe,Ft),s(Qe,at),s(z,Rt),s(z,Le),U(_e,Le,null),s(Le,jt),s(Le,mt),s(z,Tt),s(z,Ve),U(ve,Ve,null),s(Ve,Mt),s(Ve,bt),s(z,Qt),s(z,Oe),U(ke,Oe,null),s(Oe,Lt),s(Oe,gt),s(Te,Vt),s(Te,wt),U(Ie,wt,null),Z=!0},p(r,g){var Dt;if((!Z||g[0]&1)&&H(f,r[0]),(!Z||g[0]&57344)&&ne!==(ne=`${r[13]} : ${r[14]} : ${r[15]}`)&&H(ue,ne),(!Z||g[0]&4&&!Yt(R.src,se=`/${r[2]}`))&&d(R,"src",se),(!Z||g[0]&2)&&H($,r[1]),(!Z||g[0]&8)&&H(le,r[3]),(!Z||g[0]&64)&&H(Se,r[6]),r[4]?M?M.p(r,g):(M=es(r),M.c(),M.m(y,qe)):M&&(M.d(1),M=null),r[7]?Q?Q.p(r,g):(Q=ts(r),Q.c(),Q.m(y,Ye)):Q&&(Q.d(1),Q=null),r[8]?L?L.p(r,g):(L=ss(r),L.c(),L.m(y,Ge)):L&&(L.d(1),L=null),r[5]?V?V.p(r,g):(V=ls(r),V.c(),V.m(y,null)):V&&(V.d(1),V=null),g[0]&268632064){Ee=Be(r[16]);let v;for(v=0;v<Ee.length;v+=1){const et=Zt(r,Ee,v);T[v]?T[v].p(et,g):(T[v]=ns(et),T[v].c(),T[v].m(ge,null))}for(;v<T.length;v+=1)T[v].d(1);T.length=Ee.length}(!Z||g[0]&262144)&&Fe!==(Fe=r[18].description+"")&&H(Xe,Fe),g[0]&16778752&&($e=Be(r[9]),st(),B=_s(B,g,Ot,1,r,$e,kt,X,vs,os,null,Xt),tt());const N={};g[0]&1536&&(N.buttonText=(Dt=r[9][r[10]-1])!=null&&Dt.markedForReview?"Unmark For Review":"Mark For Review"),oe.$set(N);const Bt={};if(g[0]&2097152&&(Bt.disabled=r[21]),ie.$set(Bt),g[0]&8391168){ye=Be(r[9]);let v;for(v=0;v<ye.length;v+=1){const et=Kt(r,ye,v);q[v]?(q[v].p(et,g),x(q[v],1)):(q[v]=is(et),q[v].c(),x(q[v],1),q[v].m(Ze,null))}for(st(),v=ye.length;v<q.length;v+=1)bs(v);tt()}const Pt={};g[0]&1048576&&(Pt.qNumber=r[20]("answered")),he.$set(Pt);const Ut={};g[0]&1048576&&(Ut.qNumber=r[20]("notAnswered")),pe.$set(Ut);const Wt={};g[0]&1048576&&(Wt.qNumber=r[20]("markedForReview")),_e.$set(Wt);const Jt={};g[0]&1048576&&(Jt.qNumber=r[20]("markedForReviewAndAnswered")),ve.$set(Jt);const zt={};g[0]&1048576&&(zt.qNumber=r[20]("notVisited")),ke.$set(zt)},i(r){if(!Z){for(let g=0;g<$e.length;g+=1)x(B[g]);x(we.$$.fragment,r),x(oe.$$.fragment,r),x(ie.$$.fragment,r);for(let g=0;g<ye.length;g+=1)x(q[g]);x(he.$$.fragment,r),x(pe.$$.fragment,r),x(_e.$$.fragment,r),x(ve.$$.fragment,r),x(ke.$$.fragment,r),x(Ie.$$.fragment,r),Z=!0}},o(r){for(let g=0;g<B.length;g+=1)C(B[g]);C(we.$$.fragment,r),C(oe.$$.fragment,r),C(ie.$$.fragment,r),q=q.filter(Boolean);for(let g=0;g<q.length;g+=1)C(q[g]);C(he.$$.fragment,r),C(pe.$$.fragment,r),C(_e.$$.fragment,r),C(ve.$$.fragment,r),C(ke.$$.fragment,r),C(Ie.$$.fragment,r),Z=!1},d(r){r&&E(t),M&&M.d(),Q&&Q.d(),L&&L.d(),V&&V.d(),Gt(T,r);for(let g=0;g<B.length;g+=1)B[g].d();W(we),W(oe),W(ie),Gt(q,r),W(he),W(pe),W(_e),W(ve),W(ke),W(Ie)}}}function es(n){let t,e,c,f,o;return{c(){t=u("div"),e=u("p"),e.textContent="Program of Study:",c=w(),f=u("p"),o=D(n[4]),d(e,"class","font-semibold"),d(t,"class","space-y-1 text-sm")},m(i,a){O(i,t,a),s(t,e),s(t,c),s(t,f),s(f,o)},p(i,a){a[0]&16&&H(o,i[4])},d(i){i&&E(t)}}}function ts(n){let t,e,c,f,o;return{c(){t=u("div"),e=u("p"),e.textContent="Faculty:",c=w(),f=u("p"),o=D(n[7]),d(e,"class","font-semibold"),d(t,"class","space-y-1 text-sm")},m(i,a){O(i,t,a),s(t,e),s(t,c),s(t,f),s(f,o)},p(i,a){a[0]&128&&H(o,i[7])},d(i){i&&E(t)}}}function ss(n){let t,e,c,f,o;return{c(){t=u("div"),e=u("p"),e.textContent="Department:",c=w(),f=u("p"),o=D(n[8]),d(e,"class","font-semibold"),d(t,"class","space-y-1 text-sm")},m(i,a){O(i,t,a),s(t,e),s(t,c),s(t,f),s(f,o)},p(i,a){a[0]&256&&H(o,i[8])},d(i){i&&E(t)}}}function ls(n){let t,e,c,f,o;return{c(){t=u("div"),e=u("p"),e.textContent="Session:",c=w(),f=u("p"),o=D(n[5]),d(e,"class","font-semibold"),d(t,"class","space-y-1 text-sm")},m(i,a){O(i,t,a),s(t,e),s(t,c),s(t,f),s(f,o)},p(i,a){a[0]&32&&H(o,i[5])},d(i){i&&E(t)}}}function ys(n){let t,e=n[59].title+"",c,f,o;function i(){return n[39](n[57])}return{c(){t=u("button"),c=D(e),d(t,"class","min-w-max max-w-min px-4 py-2 border-2 rounded-lg border-purple-500 text-purple-500 text-sm font-bold")},m(a,I){O(a,t,I),s(t,c),f||(o=vt(t,"click",i),f=!0)},p(a,I){n=a,I[0]&65536&&e!==(e=n[59].title+"")&&H(c,e)},d(a){a&&E(t),f=!1,o()}}}function xs(n){let t,e=n[59].title+"",c,f,o;function i(){return n[38](n[57])}return{c(){t=u("button"),c=D(e),d(t,"class","min-w-max max-w-min text-white bg-purple-500 px-4 py-2 border-2 rounded-lg border-purple-500 text-sm font-bold")},m(a,I){O(a,t,I),s(t,c),f||(o=vt(t,"click",i),f=!0)},p(a,I){n=a,I[0]&65536&&e!==(e=n[59].title+"")&&H(c,e)},d(a){a&&E(t),f=!1,o()}}}function ns(n){let t;function e(o,i){return o[17]===o[57]?xs:ys}let c=e(n),f=c(n);return{c(){f.c(),t=pt()},m(o,i){f.m(o,i),O(o,t,i)},p(o,i){c===(c=e(o))&&f?f.p(o,i):(f.d(1),f=c(o),f&&(f.c(),f.m(t.parentNode,t)))},d(o){o&&E(t),f.d(o)}}}function rs(n){let t,e;return t=new Is({props:{question:n[55],questionNumber:n[57]+1}}),t.$on("selected",n[40]),{c(){P(t.$$.fragment)},m(c,f){U(t,c,f),e=!0},p(c,f){const o={};f[0]&512&&(o.question=c[55]),f[0]&512&&(o.questionNumber=c[57]+1),t.$set(o)},i(c){e||(x(t.$$.fragment,c),e=!0)},o(c){C(t.$$.fragment,c),e=!1},d(c){W(t,c)}}}function os(n,t){let e,c,f,o=t[10]===t[57]+1&&rs(t);return{key:n,first:null,c(){e=pt(),o&&o.c(),c=pt(),this.first=e},m(i,a){O(i,e,a),o&&o.m(i,a),O(i,c,a),f=!0},p(i,a){t=i,t[10]===t[57]+1?o?(o.p(t,a),a[0]&1536&&x(o,1)):(o=rs(t),o.c(),x(o,1),o.m(c.parentNode,c)):o&&(st(),C(o,1,1,()=>{o=null}),tt())},i(i){f||(x(o),f=!0)},o(i){C(o),f=!1},d(i){i&&(E(e),E(c)),o&&o.d(i)}}}function is(n){let t,e,c,f,o,i;e=new Pe({props:{color:n[11](n[55]).color,qNumber:"Q"+(n[57]+1)}});function a(){return n[41](n[57])}return{c(){t=u("button"),P(e.$$.fragment),c=w()},m(I,_){O(I,t,_),U(e,t,null),s(t,c),f=!0,o||(i=vt(t,"click",a),o=!0)},p(I,_){n=I;const k={};_[0]&2560&&(k.color=n[11](n[55]).color),e.$set(k)},i(I){f||(x(e.$$.fragment,I),f=!0)},o(I){C(e.$$.fragment,I),f=!1},d(I){I&&E(t),W(e),o=!1,i()}}}function fs(n){let t,e,c,f,o,i,a,I,_,k;return a=new Ue({props:{buttonText:"No",className:"bg-gray-400 hover:bg-gray-500 focus:ring-gray-300 focus:bg-gray-400 font-bold"}}),a.$on("click",n[30]),_=new Ue({props:{buttonText:"Yes",className:"bg-green-500 text-white hover:bg-green-600 focus:bg-green-500 focus:ring-green-300 font-bold"}}),_.$on("click",n[27]),{c(){t=u("div"),e=u("div"),c=u("div"),f=u("h1"),f.textContent="Are you sure you want to submit?",o=w(),i=u("div"),P(a.$$.fragment),I=w(),P(_.$$.fragment),d(f,"class","text-2xl text-gray-800 text-center font-extrabold"),d(i,"class","flex space-x-4 w-full"),d(c,"class","flex flex-col justify-center items-center space-y-12"),d(e,"class","flex flex-col justify-center items-center h-96 w-[28rem] bg-white rounded-lg p-16"),d(t,"class","fixed justify-center items-center flex flex-col inset-0 bg-gray-800/70")},m(F,de){O(F,t,de),s(t,e),s(e,c),s(c,f),s(c,o),s(c,i),U(a,i,null),s(i,I),U(_,i,null),k=!0},p:ks,i(F){k||(x(a.$$.fragment,F),x(_.$$.fragment,F),k=!0)},o(F){C(a.$$.fragment,F),C(_.$$.fragment,F),k=!1},d(F){F&&E(t),W(a),W(_)}}}function As(n){let t,e,c,f=!n[12]&&$t(n),o=n[19]&&fs(n);return{c(){f&&f.c(),t=w(),o&&o.c(),e=pt()},m(i,a){f&&f.m(i,a),O(i,t,a),o&&o.m(i,a),O(i,e,a),c=!0},p(i,a){i[12]?f&&(st(),C(f,1,1,()=>{f=null}),tt()):f?(f.p(i,a),a[0]&4096&&x(f,1)):(f=$t(i),f.c(),x(f,1),f.m(t.parentNode,t)),i[19]?o?(o.p(i,a),a[0]&524288&&x(o,1)):(o=fs(i),o.c(),x(o,1),o.m(e.parentNode,e)):o&&(st(),C(o,1,1,()=>{o=null}),tt())},i(i){c||(x(f),x(o),c=!0)},o(i){C(f),C(o),c=!1},d(i){i&&(E(t),E(e)),f&&f.d(i),o&&o.d(i)}}}let ds="rgb(74 222 128)",cs="rgb(248 113 113)",us="rgb(192 132 252)",as="rgb(250 204 21)",ms="rgb(156 163 175)";function Ss(n,t,e){let c,f,o,{assessmentId:i}=t,{assessmentCode:a=""}=t,{assessmentTitle:I}=t,{subjectId:_}=t,{timeLeft:k}=t,{studentName:F}=t,{studentPhoto:de}=t,{studentCode:ce}=t,{studentId:ne}=t,{subjectCode:ue}=t,{programOfStudy:We}=t,{assessmentSession:Y}=t,{level:te}=t,{faculty:ae}=t,{department:Je}=t,me=!0,G="00",R="00",se="00",ze,y,A=[],m=[],K=[],xe=[],$=0,p={},b=1,J={},Ae=!1,re=!1,le=!1;ps(async()=>{let l=`/api/cbt/get-responses/student/${i}`;if(_&&(l+=`?subjectId=${_}`),await ht.getWithToken(l,{onSuccess:h=>{xe=h.data}}),sessionStorage.getItem("hasSetQuestions")){e(16,K=JSON.parse(sessionStorage.getItem("sections"))),e(18,p=K[$]),A=JSON.parse(sessionStorage.getItem("questions")),ee(),De();return}lt(),De()});const lt=async()=>{let l=`/api/cbt/session/questions/${i}`;_&&(l+=`?subjectId=${_}`),await ht.getWithToken(l,{onSuccess:h=>{e(16,K=h.sections),sessionStorage.setItem("sections",JSON.stringify(K)),e(18,p=K[$]),A=h.data,sessionStorage.setItem("questions",JSON.stringify(A)),sessionStorage.setItem("hasSetQuestions","1"),ee()}})},ee=()=>{e(9,m=A[p.sectionId].flatMap(l=>(xe.forEach(h=>{h.selectedAnswer,h.questionId===l.questionId&&(l.selectedAnswer=l.selectedAnswer??h.selectedAnswer,l.notAnswered=l.notAnswered??h.notAnswered,l.markedForReview=l.markedForReview??h.markedForReview,l.submitted=!0)}),[{prompt:l.prompt,choices:l.choices,questionId:l.questionId,selectedAnswer:l.selectedAnswer??"",notAnswered:l.notAnswered??!1,markedForReview:l.markedForReview??!1,notVisited:!0,submitted:l.submitted??!1}]))),m.length>0&&(J[p.sectionId]=J[p.sectionId]??1,e(10,b=J[p.sectionId]),m[b-1]),e(12,me=!1)},be=()=>{let h=`https://${window.location.hostname}:8080/sse?assessmentId=${i}&studentId=${ne}`;_&&(h+=`&subjectId=${ue}`),y=new EventSource(h),y.addEventListener("message",S=>{e(31,k=S.data),parseInt(k)<=0&&(y.close(),clearInterval(ze),Ke())})},De=()=>{be(),ze=setInterval(()=>{y.readyState===EventSource.CLOSED&&(y.close(),be()),k!=0&&(e(13,G=Math.floor(k/(60*60)%24).toString()),e(14,R=Math.floor(k/60%60).toString()),e(15,se=Math.floor(k%60).toString()),e(13,G=G.padStart(2,"0")),e(14,R=R.padStart(2,"0")),e(15,se=se.padStart(2,"0")),e(31,k--,k))},1e3)},He=()=>{e(9,m[b-1].markedForReview=!m[b-1].markedForReview,m)},Se=l=>{let h=m[b-1].selectedAnswer.length>0&&!m[b-1].submitted;if(b===l+1){le=!0;return}h||m[b-1].markedForReview&&h||m[b-1].updated||(e(9,m[b-1].notVisited=!1,m),A[p.sectionId].filter(S=>S.questionId==m[b-1].questionId)[0].notVisited=!1,nt(),J[p.sectionId]=l+1,e(10,b=J[p.sectionId]))},nt=()=>{m[b-1].selectedAnswer.length>0?(e(9,m[b-1].notAnswered=!1,m),A[p.sectionId].filter(l=>l.questionId==m[b-1].questionId)[0].notAnswered=!1):(e(9,m[b-1].notAnswered=!0,m),A[p.sectionId].filter(l=>l.questionId==m[b-1].questionId)[0].notAnswered=!0)},qe=l=>{e(9,m[b-1].selectedAnswer=l,m),e(9,m[b-1].submitted=!1,m),e(9,m[b-1].notAnswered=!0,m),A[p.sectionId].filter(h=>h.questionId==m[b-1].questionId)[0].selectedAnswer=l,A[p.sectionId].filter(h=>h.questionId==m[b-1].questionId)[0].submitted=l,A[p.sectionId].filter(h=>h.questionId==m[b-1].questionId)[0].notAnswered=l},Ye=()=>{e(9,m[b-1].selectedAnswer="",m),e(9,m[b-1].updated=!0,m),e(9,m[b-1].submitted=!1,m),A[p.sectionId].filter(l=>l.questionId==m[b-1].questionId)[0].selectedAnswer="",A[p.sectionId].filter(l=>l.questionId==m[b-1].questionId)[0].updated=!0,A[p.sectionId].filter(l=>l.questionId==m[b-1].questionId)[0].submitted=!1},Ge=()=>{e(37,re=!0);let l=m[b-1];ht.postWithToken("/api/cbt/save-answer/student/"+i,{questionId:l.questionId,studentAnswer:l.selectedAnswer,markedForReview:l.markedForReview,subjectId:_,sectionId:p.sectionId,sectionTitle:p.title},{onSuccess:h=>{e(9,m[b-1].submitted=!0,m),e(9,m[b-1].updated=!1,m),A[p.sectionId].filter(S=>S.questionId==m[b-1].questionId)[0].submitted=!0,A[p.sectionId].filter(S=>S.questionId==m[b-1].questionId)[0].updated=!1,m[b-1].selectedAnswer.length>0?(e(9,m[b-1].notAnswered=!1,m),A[p.sectionId].filter(S=>S.questionId==m[b-1].questionId)[0].notAnswered=!1):(e(9,m[b-1].notAnswered=!0,m),A[p.sectionId].filter(S=>S.questionId==m[b-1].questionId)[0].notAnswered=!0),b<m.length&&(J[p.sectionId]++,e(10,b=J[p.sectionId])),le&&$<K.length-1&&j($+1),e(37,re=!1)}})},Ke=()=>{ht.postWithToken("/api/cbt/complete/student/"+i,{subjectId:_},{onSuccess:l=>{window.location.replace(l.data.url)}})},j=l=>{le=!1,e(17,$=l),e(18,p=K[l]),ee()},ge=()=>e(19,Ae=!0),rt=()=>e(19,Ae=!1),Ce=l=>j(l),Ne=l=>j(l),Fe=l=>qe(l.detail.option),Xe=l=>Se(l);return n.$$set=l=>{"assessmentId"in l&&e(32,i=l.assessmentId),"assessmentCode"in l&&e(33,a=l.assessmentCode),"assessmentTitle"in l&&e(0,I=l.assessmentTitle),"subjectId"in l&&e(34,_=l.subjectId),"timeLeft"in l&&e(31,k=l.timeLeft),"studentName"in l&&e(1,F=l.studentName),"studentPhoto"in l&&e(2,de=l.studentPhoto),"studentCode"in l&&e(3,ce=l.studentCode),"studentId"in l&&e(35,ne=l.studentId),"subjectCode"in l&&e(36,ue=l.subjectCode),"programOfStudy"in l&&e(4,We=l.programOfStudy),"assessmentSession"in l&&e(5,Y=l.assessmentSession),"level"in l&&e(6,te=l.level),"faculty"in l&&e(7,ae=l.faculty),"department"in l&&e(8,Je=l.department)},n.$$.update=()=>{n.$$.dirty[1]&64&&e(21,c=re),n.$$.dirty[0]&2560&&e(20,o=l=>m.filter(h=>f(h).status===l).length.toString()),n.$$.dirty[0]&1536&&(b===m.length?le=!0:le=!1)},e(11,f=l=>{let h="",S="",X=l.submitted==!0&&l.notAnswered==!1;return X&&(h=ds,S="answered"),!X&&l.notAnswered==!0&&!l.markedForReview&&(h=cs,S="notAnswered"),l.markedForReview&&!X&&(h=us,S="markedForReview"),l.markedForReview&&X&&(h=as,S="markedForReviewAndAnswered"),!X&&l.notVisited&&!l.markedForReview&&!l.notAnswered&&(h=ms,S="notVisited"),{color:h,status:S}}),[I,F,de,ce,We,Y,te,ae,Je,m,b,f,me,G,R,se,K,$,p,Ae,o,c,He,Se,qe,Ye,Ge,Ke,j,ge,rt,k,i,a,_,ne,ue,re,Ce,Ne,Fe,Xe]}class Ms extends gs{constructor(t){super(),ws(this,t,Ss,As,hs,{assessmentId:32,assessmentCode:33,assessmentTitle:0,subjectId:34,timeLeft:31,studentName:1,studentPhoto:2,studentCode:3,studentId:35,subjectCode:36,programOfStudy:4,assessmentSession:5,level:6,faculty:7,department:8},null,[-1,-1])}}export{Ms as default};
