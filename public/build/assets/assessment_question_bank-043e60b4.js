import{S as re,i as oe,s as ce,f as m,c as F,g,h as d,j as I,m as G,t as K,a as P,l as j,d as X,o as ie,w as Q,x as ue,D as ne,n as $,k as r,r as Y,q as N,v as de}from"./app-6d9f305e.js";import fe from"./select-5f1b2e78.js";import{i as Z}from"./link-7d7fab16.js";import{r as ee}from"./util-f704b04e.js";import pe from"./data_table-2f3c9d25.js";import"./icons-c5a046aa.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";import"./input-694295df.js";function te(n,e,l){const a=n.slice();return a[8]=e[l],a[10]=l,a}function se(n,e,l){const a=n.slice();return a[11]=e[l],a}function ae(n){let e,l=n[11]+"",a;return{c(){e=m("p"),a=$(l)},m(s,c){I(s,e,c),r(e,a)},p(s,c){c&2&&l!==(l=s[11]+"")&&N(a,l)},d(s){s&&j(e)}}}function le(n){let e,l,a,s,c,t,i=n[8].subject+"",_,b,k,p=n[8].totalQuestions+"",w,M,O,v,U,T,B=n[8].teacher+"",L,D,q,x,R,E,V,y,W,C,H,A,J,S=Q(n[8].classes),f=[];for(let o=0;o<S.length;o+=1)f[o]=ae(se(n,S,o));return{c(){e=m("tr"),l=m("td"),l.innerHTML='<div class="flex items-center"><input id="checkbox-table-search-1" type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"/> <label for="checkbox-table-search-1" class="sr-only">checkbox</label></div>',a=g(),s=m("td"),s.textContent=`${n[10]+1}`,c=g(),t=m("th"),_=$(i),b=g(),k=m("td"),w=$(p),M=$(" Questions"),O=g(),v=m("td");for(let o=0;o<f.length;o+=1)f[o].c();U=g(),T=m("td"),L=$(B),D=g(),q=m("td"),x=m("a"),R=$("View Questions"),V=g(),y=m("a"),W=$("Edit"),H=g(),d(l,"class","w-4 p-4"),d(s,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),d(t,"scope","row"),d(t,"class","px-4 py-4 text-xs text-gray-600 dark:text-gray-300"),d(k,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),d(v,"class","px-4 py-4 text-xs text-gray-600 dark:text-gray-300 whitespace-nowrap"),d(T,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300"),d(x,"href",E=`/assessment/questions/question-bank/${n[8].questionBankId}`),d(x,"class","text-white bg-gray-800 rounded-lg text-sm p-2.5"),d(y,"href",C=`/assessments/termly/question_bank/edit/${n[8].questionBankId}`),d(y,"class","text-white bg-blue-500 rounded-lg text-sm p-2.5"),d(q,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),d(e,"class","border-b")},m(o,h){I(o,e,h),r(e,l),r(e,a),r(e,s),r(e,c),r(e,t),r(t,_),r(e,b),r(e,k),r(k,w),r(k,M),r(e,O),r(e,v);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(v,null);r(e,U),r(e,T),r(T,L),r(e,D),r(e,q),r(q,x),r(x,R),r(q,V),r(q,y),r(y,W),r(e,H),A||(J=[Y(Z.call(null,x)),Y(Z.call(null,y))],A=!0)},p(o,h){if(h&2&&i!==(i=o[8].subject+"")&&N(_,i),h&2&&p!==(p=o[8].totalQuestions+"")&&N(w,p),h&2){S=Q(o[8].classes);let u;for(u=0;u<S.length;u+=1){const z=se(o,S,u);f[u]?f[u].p(z,h):(f[u]=ae(z),f[u].c(),f[u].m(v,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=S.length}h&2&&B!==(B=o[8].teacher+"")&&N(L,B),h&2&&E!==(E=`/assessment/questions/question-bank/${o[8].questionBankId}`)&&d(x,"href",E),h&2&&C!==(C=`/assessments/termly/question_bank/edit/${o[8].questionBankId}`)&&d(y,"href",C)},d(o){o&&j(e),ne(f,o),A=!1,de(J)}}}function me(n){let e,l=Q(n[1]),a=[];for(let s=0;s<l.length;s+=1)a[s]=le(te(n,l,s));return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=ue()},m(s,c){for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(s,c);I(s,e,c)},p(s,c){if(c&2){l=Q(s[1]);let t;for(t=0;t<l.length;t+=1){const i=te(s,l,t);a[t]?a[t].p(i,c):(a[t]=le(i),a[t].c(),a[t].m(e.parentNode,e))}for(;t<a.length;t+=1)a[t].d(1);a.length=l.length}},d(s){s&&j(e),ne(a,s)}}}function he(n){let e,l,a,s,c;return l=new fe({props:{options:n[2],placeholder:"Select Subject",className:"text-sm"}}),l.$on("selected",n[5]),l.$on("deselected",n[6]),s=new pe({props:{headings:n[3],$$slots:{default:[me]},$$scope:{ctx:n}}}),{c(){e=m("div"),F(l.$$.fragment),a=g(),F(s.$$.fragment),d(e,"class","w-60 mt-12 mb-6")},m(t,i){I(t,e,i),G(l,e,null),I(t,a,i),G(s,t,i),c=!0},p(t,[i]){const _={};i&4&&(_.options=t[2]),l.$set(_);const b={};i&16386&&(b.$$scope={dirty:i,ctx:t}),s.$set(b)},i(t){c||(K(l.$$.fragment,t),K(s.$$.fragment,t),c=!0)},o(t){P(l.$$.fragment,t),P(s.$$.fragment,t),c=!1},d(t){t&&(j(e),j(a)),X(l),X(s,t)}}}function ge(n,e,l){let{assessmentId:a}=e,s,c=[],t=[],i=["SN","SUBJECT","TOTAL QUESTIONS","LEVELS","LECTURER","ACTIONS"];ie(()=>{ee.getWithToken("/api/assessment/question-banks/"+a+"?isAssessmentQB=1",{onSuccess:p=>{l(1,c=p.data)}}),_()});const _=()=>{ee.getWithToken("/api/question-bank-subjects/"+a,{onSuccess:p=>{l(2,t=p.data.flatMap(w=>[{placeholder:w.subjectName,value:w.subjectCode}]))}})},b=p=>l(0,s=p.detail.value),k=p=>l(0,s=null);return n.$$set=p=>{"assessmentId"in p&&l(4,a=p.assessmentId)},[s,c,t,i,a,b,k]}class ve extends re{constructor(e){super(),oe(this,e,ge,he,ce,{assessmentId:4})}}export{ve as default};
