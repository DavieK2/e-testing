import{S as Y,i as Z,s as $,w as L,f as k,c as z,g as N,n as ee,h as q,j as T,k as g,m as M,C as W,q as se,t as C,B as te,a as I,l as D,d as U,D as ne,o as oe,F as le,y as ie}from"./app-6d9f305e.js";import re from"./QuestionCard-23157eeb.js";import ce from"./button-8a7fdb21.js";import P from"./select-5f1b2e78.js";import ae from"./icons-c5a046aa.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";function R(s,l,t){const o=s.slice();return o[22]=l[t],o[24]=t,o}function ue(s){let l,t,o,i,a,c,d;function p(){return s[19](s[22])}return{c(){l=k("div"),t=k("button"),t.textContent="Edit",o=N(),i=k("button"),i.textContent="Delete",a=N(),q(t,"class","px-4 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-xs"),q(i,"class","px-4 py-2.5 bg-red-500 text-red-50 rounded-lg text-xs"),q(l,"class","flex space-x-2 pt-5")},m(f,A){T(f,l,A),g(l,t),g(l,o),g(l,i),T(f,a,A),c||(d=W(t,"click",p),c=!0)},p(f,A){s=f},d(f){f&&(D(l),D(a)),c=!1,d()}}}function V(s){let l,t;return l=new re({props:{hasBeenAssigned:s[22].isAssigned,sectionTitle:s[22].sectionTitle,questionId:s[22].questionId,question:s[22].question,questionOptions:s[22].options,correctAnswer:s[22].correctAnswer,questionNumber:s[24]+1,questionScore:s[22].questionScore,showCheckBox:s[22].isAssigned=="Not Assigned",checked:s[8](s[22].questionId),showOptions:s[22].questionType!="theory",$$slots:{default:[ue]},$$scope:{ctx:s}}}),l.$on("checked",s[20]),l.$on("unchecked",s[21]),{c(){z(l.$$.fragment)},m(o,i){M(l,o,i),t=!0},p(o,i){const a={};i&16&&(a.hasBeenAssigned=o[22].isAssigned),i&16&&(a.sectionTitle=o[22].sectionTitle),i&16&&(a.questionId=o[22].questionId),i&16&&(a.question=o[22].question),i&16&&(a.questionOptions=o[22].options),i&16&&(a.correctAnswer=o[22].correctAnswer),i&16&&(a.questionScore=o[22].questionScore),i&16&&(a.showCheckBox=o[22].isAssigned=="Not Assigned"),i&272&&(a.checked=o[8](o[22].questionId)),i&16&&(a.showOptions=o[22].questionType!="theory"),i&33554448&&(a.$$scope={dirty:i,ctx:o}),l.$set(a)},i(o){t||(C(l.$$.fragment,o),t=!0)},o(o){I(l.$$.fragment,o),t=!1},d(o){U(l,o)}}}function de(s){let l,t,o,i,a,c,d,p,f,A,h,b,_=s[6]?"Uncheck All":"Check All",O,j,w,F,v,B,E,S,y,x,G;i=new P({props:{options:s[3],placeholder:"Select Question Bank",className:"text-sm py-2",optionsStyling:"",placeholderStyling:""}}),i.$on("selected",s[15]),i.$on("deselected",s[16]),f=new P({props:{options:s[2],placeholder:"All Sections",className:"text-sm py-2"}}),f.$on("selected",s[17]),f.$on("deselected",s[18]),w=new ce({props:{disabled:s[1],buttonText:"Assign",className:"text-sm"}}),w.$on("click",s[13]),B=new ae({props:{icon:"trash",className:"stroke-white h-6 w-6"}});let e=L(s[4]),r=[];for(let n=0;n<e.length;n+=1)r[n]=V(R(s,e,n));const X=n=>I(r[n],1,1,()=>{r[n]=null});return{c(){l=k("div"),t=k("div"),o=k("div"),z(i.$$.fragment),a=N(),c=k("div"),d=k("div"),p=k("div"),z(f.$$.fragment),A=N(),h=k("div"),b=k("button"),O=ee(_),j=N(),z(w.$$.fragment),F=N(),v=k("button"),z(B.$$.fragment),E=N(),S=k("div");for(let n=0;n<r.length;n+=1)r[n].c();q(o,"class","flex space-x-3 items-center w-full"),q(t,"class","flex space-x-8 items-center h-full justify-between"),q(l,"class","fixed px-8 z-50 w-[35rem] h-16 border-b border-r bg-white border-gray-100 shrink-0"),q(p,"class","flex space-x-3 items-center w-full"),b.disabled=s[7],q(b,"class","p-2 rounded-lg border-2 min-w-max max-w-min border-gray-600 text-gray-600 font-semibold disabled:border-gray-400 disabled:text-gray-400"),v.disabled=s[1],q(v,"class","p-2 rounded-lg min-w-max max-w-min bg-red-600 hover:bg-red-700 font-semibold transition disabled:bg-red-400"),q(h,"class","flex space-x-2 text-sm"),q(d,"class","flex space-x-8 items-center h-full justify-between"),q(c,"class","fixed px-8 z-40 w-[35rem] h-16 border-b border-r border-gray-100 bg-white shrink-0 mt-16"),q(S,"class","fixed w-[35rem] flex flex-col mt-16 h-[calc(100vh-20rem)] items-center bottom-0 pb-20 border-r border-gray-100 question overflow-x-hidden overflow-y-auto pl-4 bg-white svelte-1et1clp")},m(n,u){T(n,l,u),g(l,t),g(t,o),M(i,o,null),T(n,a,u),T(n,c,u),g(c,d),g(d,p),M(f,p,null),g(d,A),g(d,h),g(h,b),g(b,O),g(h,j),M(w,h,null),g(h,F),g(h,v),M(B,v,null),T(n,E,u),T(n,S,u);for(let Q=0;Q<r.length;Q+=1)r[Q]&&r[Q].m(S,null);y=!0,x||(G=W(b,"click",s[12]),x=!0)},p(n,[u]){const Q={};u&8&&(Q.options=n[3]),i.$set(Q);const H={};u&4&&(H.options=n[2]),f.$set(H),(!y||u&64)&&_!==(_=n[6]?"Uncheck All":"Check All")&&se(O,_),(!y||u&128)&&(b.disabled=n[7]);const J={};if(u&2&&(J.disabled=n[1]),w.$set(J),(!y||u&2)&&(v.disabled=n[1]),u&3856){e=L(n[4]);let m;for(m=0;m<e.length;m+=1){const K=R(n,e,m);r[m]?(r[m].p(K,u),C(r[m],1)):(r[m]=V(K),r[m].c(),C(r[m],1),r[m].m(S,null))}for(ie(),m=e.length;m<r.length;m+=1)X(m);te()}},i(n){if(!y){C(i.$$.fragment,n),C(f.$$.fragment,n),C(w.$$.fragment,n),C(B.$$.fragment,n);for(let u=0;u<e.length;u+=1)C(r[u]);y=!0}},o(n){I(i.$$.fragment,n),I(f.$$.fragment,n),I(w.$$.fragment,n),I(B.$$.fragment,n),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)I(r[u]);y=!1},d(n){n&&(D(l),D(a),D(c),D(E),D(S)),U(i),U(f),U(w),U(B),ne(r,n),x=!1,G()}}}function fe(s,l,t){let o,i,{disabled:a=!1}=l,c=[],d=[],{questions:p=[]}=l,{sections:f=[]}=l,{assessmentQuestionBanks:A=[]}=l,h,b=!1;oe(()=>{t(4,d=p)});const _=le(),O=e=>{c.push(e),t(14,c),_("select-question",{questionId:e})},j=e=>{t(14,c=c.filter(r=>r!=e)),_("deselect-question",{questionId:e})},w=()=>{b?(_("check-all",{questions:c,checkedAll:b}),t(14,c=c.filter(e=>!d.some(r=>e===r.questionId)))):(d.flatMap(e=>[e.questionId]).forEach(e=>{c.some(r=>r===e)||c.push(e)}),t(14,c),_("check-all",{questions:c,checkedAll:b}))},F=()=>{t(1,a=!0),_("mass-assign",{selectedQuestions:c}),t(14,c=[])},v=e=>_("get-question-bank",{value:e.detail.value}),B=e=>{t(2,f=[]),t(0,p=[])},E=e=>t(5,h=e.detail.value),S=e=>t(5,h=null),y=e=>_("edit",e),x=e=>O(e.detail.value),G=e=>j(e.detail.value);return s.$$set=e=>{"disabled"in e&&t(1,a=e.disabled),"questions"in e&&t(0,p=e.questions),"sections"in e&&t(2,f=e.sections),"assessmentQuestionBanks"in e&&t(3,A=e.assessmentQuestionBanks)},s.$$.update=()=>{s.$$.dirty&33&&(h?t(4,d=p.filter(e=>e.sectionId===h)):t(4,d=p)),s.$$.dirty&16400&&t(1,a=c.length===0||d.length===0),s.$$.dirty&16384&&t(8,o=e=>c.some(r=>e===r)),s.$$.dirty&16&&t(7,i=d.length===0),s.$$.dirty&16400&&t(6,b=d.filter(e=>c.some(r=>e.questionId===r)).length===d.length&&d.length!==0)},[p,a,f,A,d,h,b,i,o,_,O,j,w,F,c,v,B,E,S,y,x,G]}class qe extends Y{constructor(l){super(),Z(this,l,fe,de,$,{disabled:1,questions:0,sections:2,assessmentQuestionBanks:3})}}export{qe as default};
