import{S as ae,i as ue,s as de,f as m,c as L,g as N,n as W,h as p,j as y,k as d,m as R,C as J,q as se,a as B,B as ie,t as A,l as C,d as G,v as re,o as fe,F as me,y as ce,w as le,D as he,u as X}from"./app-6d9f305e.js";import pe from"./QuestionCard-23157eeb.js";import ge from"./select-5f1b2e78.js";import be from"./button-8a7fdb21.js";import _e from"./icons-c5a046aa.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";function ne(t,n,s){const o=t.slice();return o[21]=n[s],o[23]=s,o}function ke(t){let n,s,o=le(t[2]),e=[];for(let r=0;r<o.length;r+=1)e[r]=oe(ne(t,o,r));const u=r=>B(e[r],1,1,()=>{e[r]=null});return{c(){n=m("div");for(let r=0;r<e.length;r+=1)e[r].c();p(n,"class","w-full pl-4")},m(r,c){y(r,n,c);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(n,null);s=!0},p(r,c){if(c&964){o=le(r[2]);let l;for(l=0;l<o.length;l+=1){const f=ne(r,o,l);e[l]?(e[l].p(f,c),A(e[l],1)):(e[l]=oe(f),e[l].c(),A(e[l],1),e[l].m(n,null))}for(ce(),l=o.length;l<e.length;l+=1)u(l);ie()}},i(r){if(!s){for(let c=0;c<o.length;c+=1)A(e[c]);s=!0}},o(r){e=e.filter(Boolean);for(let c=0;c<e.length;c+=1)B(e[c]);s=!1},d(r){r&&C(n),he(e,r)}}}function we(t){let n;return{c(){n=m("div"),n.innerHTML='<div class="flex items-center text-center rounded-lg h-full dark:border-gray-700"><div class="flex flex-col w-full max-w-sm px-4 mx-auto"><div class="p-3 mx-auto text-blue-500 bg-blue-100 rounded-full dark:bg-gray-800"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></div> <h1 class="mt-3 text-lg text-gray-800 dark:text-white">No Questions found</h1> <p class="mt-2 text-gray-500 dark:text-gray-400">No question has been assigned to this assessment.</p></div></div>',p(n,"class","container h-[30rem]")},m(s,o){y(s,n,o)},p:X,i:X,o:X,d(s){s&&C(n)}}}function ve(t){let n,s,o,e,u,r,c;function l(){return t[17](t[21])}function f(){return t[18](t[21])}return{c(){n=m("div"),s=m("button"),s.textContent="Edit",o=N(),e=m("button"),e.textContent="Remove",u=N(),p(s,"class","px-4 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-xs"),p(e,"class","px-4 py-2.5 bg-red-500 text-red-50 rounded-lg text-xs"),p(n,"class","flex space-x-2 pt-5")},m(g,h){y(g,n,h),d(n,s),d(n,o),d(n,e),y(g,u,h),r||(c=[J(s,"click",l),J(e,"click",f)],r=!0)},p(g,h){t=g},d(g){g&&(C(n),C(u)),r=!1,re(c)}}}function oe(t){let n,s;return n=new pe({props:{sectionTitle:t[21].sectionTitle,questionId:t[21].questionId,showOptions:t[21].questionType!="theory",question:t[21].question,questionOptions:t[21].options,correctAnswer:t[21].correctAnswer,questionNumber:t[23]+1,questionScore:t[21].questionScore,showCheckBox:!0,checked:t[6](t[21].questionId),$$slots:{default:[ve]},$$scope:{ctx:t}}}),n.$on("checked",t[19]),n.$on("unchecked",t[20]),{c(){L(n.$$.fragment)},m(o,e){R(n,o,e),s=!0},p(o,e){const u={};e&4&&(u.sectionTitle=o[21].sectionTitle),e&4&&(u.questionId=o[21].questionId),e&4&&(u.showOptions=o[21].questionType!="theory"),e&4&&(u.question=o[21].question),e&4&&(u.questionOptions=o[21].options),e&4&&(u.correctAnswer=o[21].correctAnswer),e&4&&(u.questionScore=o[21].questionScore),e&68&&(u.checked=o[6](o[21].questionId)),e&16777220&&(u.$$scope={dirty:e,ctx:o}),n.$set(u)},i(o){s||(A(n.$$.fragment,o),s=!0)},o(o){B(n.$$.fragment,o),s=!1},d(o){G(n,o)}}}function qe(t){let n,s,o,e,u,r,c,l=t[4]?"Uncheck All":"Check All",f,g,h,_,Q,q,U,j,F,E=t[2].length+"",z,H,D,x,I,i,k,M,K,O,w,v,S,P,Y;e=new ge({props:{options:t[1],placeholder:"All Sections",className:"text-sm py-2"}}),e.$on("selected",t[14]),e.$on("deselected",t[15]),h=new be({props:{disabled:t[0],buttonText:"Unassign",className:"text-sm"}}),h.$on("click",t[11]),M=new _e({props:{className:"h-6 w-6 fill-current",icon:"excel"}});const Z=[we,ke],T=[];function $(a,b){return a[2].length==0?0:1}return w=$(t),v=T[w]=Z[w](t),{c(){n=m("div"),s=m("div"),o=m("div"),L(e.$$.fragment),u=N(),r=m("div"),c=m("button"),f=W(l),g=N(),L(h.$$.fragment),_=N(),Q=m("div"),q=m("div"),U=m("div"),j=m("p"),F=W("Total Questions: "),z=W(E),H=N(),D=m("div"),x=m("button"),I=m("div"),i=m("span"),i.textContent="Export",k=N(),L(M.$$.fragment),K=N(),O=m("div"),v.c(),p(o,"class","flex space-x-3 items-center w-full"),c.disabled=t[5],p(c,"class","p-2 rounded-lg border-2 min-w-max max-w-min border-gray-600 text-gray-600 font-semibold disabled:border-gray-400 disabled:text-gray-400"),p(r,"class","flex space-x-2 text-sm"),p(s,"class","flex space-x-8 items-center h-full justify-between"),p(n,"class","fixed px-8 z-[60] w-[calc(100vw-50rem)] min-w-[36rem] h-16 border-b border-r border-gray-100 bg-white shrink-0"),p(j,"class","text-base font-bold"),p(i,"class","text-sm"),p(I,"class","flex space-x-2 items-center"),x.disabled=t[0],p(x,"class","px-4 py-2 text-gray-800 rounded-lg border-2 border-gray-800 disabled:border-gray-400 disabled:text-gray-400"),p(q,"class","flex space-x-8 items-center h-full justify-between"),p(Q,"class","fixed px-8 z-50 w-[calc(100vw-50rem)] mt-16 min-w-[36rem] h-16 border-b border-r border-gray-100 bg-white shrink-0"),p(O,"class","fixed w-[calc(100vw-50rem)] flex flex-col mt-16 h-[calc(100vh-20rem)] items-center bottom-0 pb-20 question overflow-y-auto bg-white")},m(a,b){y(a,n,b),d(n,s),d(s,o),R(e,o,null),d(s,u),d(s,r),d(r,c),d(c,f),d(r,g),R(h,r,null),y(a,_,b),y(a,Q,b),d(Q,q),d(q,U),d(U,j),d(j,F),d(j,z),d(q,H),d(q,D),d(D,x),d(x,I),d(I,i),d(I,k),R(M,I,null),y(a,K,b),y(a,O,b),T[w].m(O,null),S=!0,P||(Y=[J(c,"click",t[10]),J(x,"click",t[16])],P=!0)},p(a,[b]){const ee={};b&2&&(ee.options=a[1]),e.$set(ee),(!S||b&16)&&l!==(l=a[4]?"Uncheck All":"Check All")&&se(f,l),(!S||b&32)&&(c.disabled=a[5]);const te={};b&1&&(te.disabled=a[0]),h.$set(te),(!S||b&4)&&E!==(E=a[2].length+"")&&se(z,E),(!S||b&1)&&(x.disabled=a[0]);let V=w;w=$(a),w===V?T[w].p(a,b):(ce(),B(T[V],1,1,()=>{T[V]=null}),ie(),v=T[w],v?v.p(a,b):(v=T[w]=Z[w](a),v.c()),A(v,1),v.m(O,null))},i(a){S||(A(e.$$.fragment,a),A(h.$$.fragment,a),A(M.$$.fragment,a),A(v),S=!0)},o(a){B(e.$$.fragment,a),B(h.$$.fragment,a),B(M.$$.fragment,a),B(v),S=!1},d(a){a&&(C(n),C(_),C(Q),C(K),C(O)),G(e),G(h),G(M),T[w].d(),P=!1,re(Y)}}}function xe(t,n,s){let o,e,{assignedQuestions:u=[]}=n,{sections:r=[]}=n,{disabled:c=!1}=n,l=[],f=[],g,h=!1;fe(()=>{s(2,f=u)});const _=me(),Q=i=>{l.push(i),s(13,l),_("select-question",{questionId:i})},q=i=>{s(13,l=l.filter(k=>k!=i)),_("deselect-question",{questionId:i})},U=()=>{h?(_("check-all",{questions:l,checkedAll:h}),s(13,l=l.filter(i=>!f.some(k=>i===k.questionId)))):(f.flatMap(i=>[i.questionId]).forEach(i=>{l.some(k=>k===i)||l.push(i)}),s(13,l),_("check-all",{questions:l,checkedAll:h}))},j=()=>{s(0,c=!0),_("mass-unassign",{selectedQuestions:l}),s(13,l=[])},F=i=>s(3,g=i.detail.value),E=i=>s(3,g=null),z=()=>_("download-excel"),H=i=>_("edit",{...i,assigned:!0}),D=i=>_("unassign",i),x=i=>Q(i.detail.value),I=i=>q(i.detail.value);return t.$$set=i=>{"assignedQuestions"in i&&s(12,u=i.assignedQuestions),"sections"in i&&s(1,r=i.sections),"disabled"in i&&s(0,c=i.disabled)},t.$$.update=()=>{t.$$.dirty&4104&&(g?s(2,f=u.filter(i=>i.sectionId===g)):s(2,f=u)),t.$$.dirty&8196&&s(0,c=l.length===0||f.length===0),t.$$.dirty&8192&&s(6,o=i=>l.some(k=>i===k)),t.$$.dirty&4&&s(5,e=f.length===0),t.$$.dirty&8196&&s(4,h=f.filter(i=>l.some(k=>i.questionId===k)).length===f.length&&f.length!==0)},[c,r,f,g,h,e,o,_,Q,q,U,j,u,l,F,E,z,H,D,x,I]}class Ne extends ae{constructor(n){super(),ue(this,n,xe,qe,de,{assignedQuestions:12,sections:1,disabled:0})}}export{Ne as default};
