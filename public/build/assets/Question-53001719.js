import{S as Zt,i as Ct,s as Dt,c as y,g as T,m as I,j as W,t as _,a as w,l as L,d as A,b as jt,o as Ot,f as b,h as $,k as c,u as de,n as Se,p as Wt,e as Lt,E as Ze,y as re,B as ae,C as Ce,v as Ft}from"./app-6d9f305e.js";import ne from"./button-8a7fdb21.js";import Qe from"./icons-c5a046aa.js";import Vt from"./slide_panel-2bd9836d.js";import{L as Jt}from"./Layout-2cfd6595.js";import Pt from"./EditableQuestionCard-ad1f884f.js";import zt from"./CsvImportCard-44751b91.js";import Ut from"./ImportMappingCard-fe510981.js";import{r as z}from"./util-f704b04e.js";import Le from"./select-5f1b2e78.js";import Rt from"./modal-f0199d0f.js";import ce from"./input-694295df.js";import Gt from"./questions_list-cdb1e1f5.js";import ke from"./questions_bank-74930c69.js";import pe from"./assessment_question_banks-550c04a5.js";import Kt from"./drawer-5c10bba6.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";import"./utils-27538abd.js";import"./index-000d58f7.js";import"./link-7d7fab16.js";import"./TextEditor-45bc4bcb.js";import"./QuestionCard-23157eeb.js";function Xt(s){let e,t,n,i;return e=new Qe({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-700"}}),{c(){y(e.$$.fragment),t=T(),n=b("span"),n.textContent=`${s[26]}`,$(n,"class","text-gray-700")},m(l,a){I(e,l,a),W(l,t,a),W(l,n,a),i=!0},p:de,i(l){i||(_(e.$$.fragment,l),i=!0)},o(l){w(e.$$.fragment,l),i=!1},d(l){l&&(L(t),L(n)),A(e,l)}}}function Yt(s){let e,t,n,i;return e=new Qe({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-700"}}),{c(){y(e.$$.fragment),t=T(),n=b("span"),n.textContent=`${s[27]}`,$(n,"class","text-gray-700")},m(l,a){I(e,l,a),W(l,t,a),W(l,n,a),i=!0},p:de,i(l){i||(_(e.$$.fragment,l),i=!0)},o(l){w(e.$$.fragment,l),i=!1},d(l){l&&(L(t),L(n)),A(e,l)}}}function xt(s){let e;return{c(){e=b("div"),e.innerHTML='<p class="text-xl font-extrabold min-w-max text-gray-800">Add New Question</p>',$(e,"class","flex items-center space-x-4 justify-between px-8 w-[36rem] shrink-0 border-r h-full")},m(t,n){W(t,e,n)},p:de,d(t){t&&L(e)}}}function es(s){let e,t,n,i,l,a,r,u,g,f,d;return{c(){e=b("div"),t=b("div"),n=b("button"),i=Se("Questions"),a=T(),r=b("button"),u=Se("Questions Archive"),$(n,"type","button"),$(n,"class",l=`text-sm py-2 px-8 ${s[3]!=pe?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-s-lg transition min-w-max w-full font-semibold`),$(r,"type","button"),$(r,"class",g=`text-sm py-2 px-8 ${s[3]!=ke?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-e-lg transition min-w-max  w-full font-semibold`),$(t,"class","flex items-center h-full w-full"),$(e,"class","px-8 w-[36rem] shrink-0 border-r h-full")},m(k,Q){W(k,e,Q),c(e,t),c(t,n),c(n,i),c(t,a),c(t,r),c(r,u),f||(d=[Ce(n,"click",s[69]),Ce(r,"click",s[70])],f=!0)},p(k,Q){Q[0]&8&&l!==(l=`text-sm py-2 px-8 ${k[3]!=pe?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-s-lg transition min-w-max w-full font-semibold`)&&$(n,"class",l),Q[0]&8&&g!==(g=`text-sm py-2 px-8 ${k[3]!=ke?"text-gray-400 bg-gray-100":"text-gray-600 border-2 border-gray-500"} rounded-e-lg transition min-w-max  w-full font-semibold`)&&$(r,"class",g)},d(k){k&&L(e),f=!1,Ft(d)}}}function ts(s){let e,t,n,i,l,a,r,u,g,f,d,k,Q,p,q,F,P,E,N,V,X,D,U,h,Z,J,Y,M,R;l=new Qe({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-700"}});let j=s[26]&&Xt(s),O=s[27]&&Yt(s);function ue(m,B){return m[29]?es:xt}let oe=ue(s)(s);var G=s[3];function te(m,B){return{props:{questions:m[14],sections:m[16],assessmentQuestionBanks:m[13]}}}return G&&(p=Ze(G,te(s)),p.$on("edit",s[71]),p.$on("delete-questions",s[72]),p.$on("get-question-bank",s[73])),h=new ne({props:{buttonText:"New Question",className:"text-xs"}}),h.$on("click",s[74]),J=new ne({props:{buttonText:"Import Questions",className:"min-w-max text-xs bg-green-600 hover:bg-green-500 focus:bg-green-600 focus:ring-green-300"}}),J.$on("click",s[75]),M=new Gt({props:{shouldEditSection:s[7],sections:s[15],questions:s[12]}}),M.$on("section-deselected",s[45]),M.$on("edit-section",s[76]),M.$on("section-seclected",s[77]),M.$on("add-section",s[78]),M.$on("edit",s[79]),M.$on("delete-section",s[48]),M.$on("delete-questions",s[80]),M.$on("select-question",s[81]),M.$on("deselect-question",s[82]),M.$on("check-all",s[83]),M.$on("actions",s[84]),{c(){e=b("div"),t=b("div"),n=b("span"),n.textContent="Question Bank",i=T(),y(l.$$.fragment),a=T(),r=b("span"),r.textContent="Questions",u=T(),j&&j.c(),g=T(),O&&O.c(),f=T(),d=b("div"),k=b("div"),oe.c(),Q=T(),p&&y(p.$$.fragment),q=T(),F=b("div"),F.innerHTML='<div class="relative flex flex-col h-full"><div class="max-w-xl px-8 pt-8"></div></div>',P=T(),E=b("div"),N=b("div"),V=b("div"),V.innerHTML='<p class="py-2 text-gray-800 font-bold text-base">Questions</p>',X=T(),D=b("div"),U=b("div"),y(h.$$.fragment),Z=T(),y(J.$$.fragment),Y=T(),y(M.$$.fragment),$(n,"class","text-gray-700"),$(r,"class","text-gray-700"),$(t,"class","flex space-x-2 items-center text-sm font-bold"),$(e,"class","fixed flex items-center h-16 justify-between bg-white py-4 px-8 border-b w-[calc(100vw-15rem)] z-50"),$(k,"class","fixed ml-60 mt-16 z-30 inset-x-0 flex border-b items-center h-16 bg-white"),$(F,"class","fixed ml-60 w-[36rem] inset-x-0 bottom-0 bg-white border-r h-[calc(100vh-12rem)] overflow-y-auto"),$(U,"class","flex space-x-2"),$(D,"class","flex items-center border-l h-full pl-6 justify-end"),$(N,"class","flex items-center space-x-4 justify-between w-full h-full"),$(E,"class","fixed right-0 z-30 h-16 mt-16 px-6 w-[calc(100vw-51rem)] space-x-10 flex items-center justify-between"),$(d,"class","relative overflow-x-auto")},m(m,B){W(m,e,B),c(e,t),c(t,n),c(t,i),I(l,t,null),c(t,a),c(t,r),c(t,u),j&&j.m(t,null),c(t,g),O&&O.m(t,null),W(m,f,B),W(m,d,B),c(d,k),oe.m(k,null),c(d,Q),p&&I(p,d,null),c(d,q),c(d,F),c(d,P),c(d,E),c(E,N),c(N,V),c(N,X),c(N,D),c(D,U),I(h,U,null),c(U,Z),I(J,U,null),c(d,Y),I(M,d,null),R=!0},p(m,B){if(m[26]&&j.p(m,B),m[27]&&O.p(m,B),oe.p(m,B),B[0]&8&&G!==(G=m[3])){if(p){re();const C=p;w(C.$$.fragment,1,0,()=>{A(C,1)}),ae()}G?(p=Ze(G,te(m)),p.$on("edit",m[71]),p.$on("delete-questions",m[72]),p.$on("get-question-bank",m[73]),y(p.$$.fragment),_(p.$$.fragment,1),I(p,d,q)):p=null}else if(G){const C={};B[0]&16384&&(C.questions=m[14]),B[0]&65536&&(C.sections=m[16]),B[0]&8192&&(C.assessmentQuestionBanks=m[13]),p.$set(C)}const K={};B[0]&128&&(K.shouldEditSection=m[7]),B[0]&32768&&(K.sections=m[15]),B[0]&4096&&(K.questions=m[12]),M.$set(K)},i(m){R||(_(l.$$.fragment,m),_(j),_(O),p&&_(p.$$.fragment,m),_(h.$$.fragment,m),_(J.$$.fragment,m),_(M.$$.fragment,m),R=!0)},o(m){w(l.$$.fragment,m),w(j),w(O),p&&w(p.$$.fragment,m),w(h.$$.fragment,m),w(J.$$.fragment,m),w(M.$$.fragment,m),R=!1},d(m){m&&(L(e),L(f),L(d)),A(l),j&&j.d(),O&&O.d(),oe.d(),p&&A(p),A(h),A(J),A(M)}}}function De(s){let e,t;return e=new Pt({props:{edit:s[6],topics:s[17],disabled:s[8],questionEdit:s[9],subjectId:s[25],classId:s[24],questionBankId:s[28],questionId:s[0].questionId,assigned:s[0].assigned??!1,sections:s[15],question:s[0].question,correctAnswer:s[0].correctAnswer,options:s[0].options,questionScore:s[0].questionScore,questionType:s[0].questionType,selectedSection:s[0].sectionId,selectedTopic:s[0].topicId,source:s[0].source,className:"w-[40rem]"}}),e.$on("saving",s[53]),e.$on("error",s[54]),e.$on("cancel",s[38]),e.$on("updated",s[55]),e.$on("saved",s[56]),{c(){y(e.$$.fragment)},m(n,i){I(e,n,i),t=!0},p(n,i){const l={};i[0]&64&&(l.edit=n[6]),i[0]&131072&&(l.topics=n[17]),i[0]&256&&(l.disabled=n[8]),i[0]&512&&(l.questionEdit=n[9]),i[0]&1&&(l.questionId=n[0].questionId),i[0]&1&&(l.assigned=n[0].assigned??!1),i[0]&32768&&(l.sections=n[15]),i[0]&1&&(l.question=n[0].question),i[0]&1&&(l.correctAnswer=n[0].correctAnswer),i[0]&1&&(l.options=n[0].options),i[0]&1&&(l.questionScore=n[0].questionScore),i[0]&1&&(l.questionType=n[0].questionType),i[0]&1&&(l.selectedSection=n[0].sectionId),i[0]&1&&(l.selectedTopic=n[0].topicId),i[0]&1&&(l.source=n[0].source),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function je(s){let e,t,n={disabled:s[8]};return e=new zt({props:n}),s[57](e),e.$on("on-upload",s[36]),{c(){y(e.$$.fragment)},m(i,l){I(e,i,l),t=!0},p(i,l){const a={};l[0]&256&&(a.disabled=i[8]),e.$set(a)},i(i){t||(_(e.$$.fragment,i),t=!0)},o(i){w(e.$$.fragment,i),t=!1},d(i){s[57](null),A(e,i)}}}function Oe(s){let e,t;return e=new Ut({props:{sections:s[15],disabled:s[8],headings:s[21],options:s[23]()}}),e.$on("deselected",s[58]),e.$on("selected",s[59]),e.$on("import",s[37]),e.$on("back-button",s[60]),e.$on("section",s[61]),e.$on("de-section",s[62]),{c(){y(e.$$.fragment)},m(n,i){I(e,n,i),t=!0},p(n,i){const l={};i[0]&32768&&(l.sections=n[15]),i[0]&256&&(l.disabled=n[8]),i[0]&2097152&&(l.headings=n[21]),i[0]&8388608&&(l.options=n[23]()),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function We(s){let e,t,n,i,l,a,r,u,g,f,d,k,Q,p,q,F,P,E,N,V;n=new ce({props:{value:s[22].sectionTitle,label:"Enter Section Title",labelStyle:"font-semibold"}}),n.$on("input",s[63]),a=new Le({props:{value:s[22].questionType,options:s[18],className:"text-sm",optionsStyling:"text-sm",placeholder:"Select Question Type",label:"Select Question Type",labelStyle:"font-semibold"}}),a.$on("selected",s[64]),a.$on("deselected",s[65]),g=new ce({props:{value:s[22].sectionDescription,label:"Enter Section Description",labelStyle:"font-semibold"}}),g.$on("input",s[66]),k=new ce({props:{type:"number",value:s[22].sectionTotalQuestions,label:"Enter Total Questions",labelStyle:"font-semibold"}}),k.$on("input",s[67]),q=new ce({props:{type:"number",value:s[22].sectionScore,label:"Enter Section Score",labelStyle:"font-semibold"}}),q.$on("input",s[68]);const X=[ns,ss],D=[];function U(h,Z){return h[20]===h[31].editSection?0:1}return E=U(s),N=D[E]=X[E](s),{c(){e=b("div"),t=b("div"),y(n.$$.fragment),i=T(),l=b("div"),y(a.$$.fragment),r=T(),u=b("div"),y(g.$$.fragment),f=T(),d=b("div"),y(k.$$.fragment),Q=T(),p=b("div"),y(q.$$.fragment),F=T(),P=b("div"),N.c(),$(P,"class","w-20"),$(e,"class","flex flex-col space-y-6 py-3 w-[32rem]")},m(h,Z){W(h,e,Z),c(e,t),I(n,t,null),c(e,i),c(e,l),I(a,l,null),c(e,r),c(e,u),I(g,u,null),c(e,f),c(e,d),I(k,d,null),c(e,Q),c(e,p),I(q,p,null),c(e,F),c(e,P),D[E].m(P,null),V=!0},p(h,Z){const J={};Z[0]&4194304&&(J.value=h[22].sectionTitle),n.$set(J);const Y={};Z[0]&4194304&&(Y.value=h[22].questionType),Z[0]&262144&&(Y.options=h[18]),a.$set(Y);const M={};Z[0]&4194304&&(M.value=h[22].sectionDescription),g.$set(M);const R={};Z[0]&4194304&&(R.value=h[22].sectionTotalQuestions),k.$set(R);const j={};Z[0]&4194304&&(j.value=h[22].sectionScore),q.$set(j);let O=E;E=U(h),E===O?D[E].p(h,Z):(re(),w(D[O],1,1,()=>{D[O]=null}),ae(),N=D[E],N?N.p(h,Z):(N=D[E]=X[E](h),N.c()),_(N,1),N.m(P,null))},i(h){V||(_(n.$$.fragment,h),_(a.$$.fragment,h),_(g.$$.fragment,h),_(k.$$.fragment,h),_(q.$$.fragment,h),_(N),V=!0)},o(h){w(n.$$.fragment,h),w(a.$$.fragment,h),w(g.$$.fragment,h),w(k.$$.fragment,h),w(q.$$.fragment,h),w(N),V=!1},d(h){h&&L(e),A(n),A(a),A(g),A(k),A(q),D[E].d()}}}function ss(s){let e,t;return e=new ne({props:{disabled:s[8],buttonText:"Add Section",className:"min-w-max max-w-min"}}),e.$on("click",s[43]),{c(){y(e.$$.fragment)},m(n,i){I(e,n,i),t=!0},p(n,i){const l={};i[0]&256&&(l.disabled=n[8]),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ns(s){let e,t;return e=new ne({props:{disabled:s[8],buttonText:"Update",className:"min-w-max max-w-min"}}),e.$on("click",s[47]),{c(){y(e.$$.fragment)},m(n,i){I(e,n,i),t=!0},p(n,i){const l={};i[0]&256&&(l.disabled=n[8]),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function os(s){let e,t,n,i,l,a=(s[20]===s[31].addNewQuestion||s[20]===s[31].editQuestion)&&De(s),r=s[20]===s[31].uploadQuestions&&je(s),u=s[20]===s[31].importQuestions&&Oe(s),g=(s[20]===s[31].addSection||s[7]&&s[20]===s[31].editSection)&&We(s);return{c(){e=b("div"),a&&a.c(),t=T(),r&&r.c(),n=T(),u&&u.c(),i=T(),g&&g.c(),$(e,"slot","panel")},m(f,d){W(f,e,d),a&&a.m(e,null),c(e,t),r&&r.m(e,null),c(e,n),u&&u.m(e,null),c(e,i),g&&g.m(e,null),l=!0},p(f,d){f[20]===f[31].addNewQuestion||f[20]===f[31].editQuestion?a?(a.p(f,d),d[0]&1048576&&_(a,1)):(a=De(f),a.c(),_(a,1),a.m(e,t)):a&&(re(),w(a,1,1,()=>{a=null}),ae()),f[20]===f[31].uploadQuestions?r?(r.p(f,d),d[0]&1048576&&_(r,1)):(r=je(f),r.c(),_(r,1),r.m(e,n)):r&&(re(),w(r,1,1,()=>{r=null}),ae()),f[20]===f[31].importQuestions?u?(u.p(f,d),d[0]&1048576&&_(u,1)):(u=Oe(f),u.c(),_(u,1),u.m(e,i)):u&&(re(),w(u,1,1,()=>{u=null}),ae()),f[20]===f[31].addSection||f[7]&&f[20]===f[31].editSection?g?(g.p(f,d),d[0]&1048704&&_(g,1)):(g=We(f),g.c(),_(g,1),g.m(e,null)):g&&(re(),w(g,1,1,()=>{g=null}),ae())},i(f){l||(_(a),_(r),_(u),_(g),l=!0)},o(f){w(a),w(r),w(u),w(g),l=!1},d(f){f&&L(e),a&&a.d(),r&&r.d(),u&&u.d(),g&&g.d()}}}function ls(s){let e,t;return e=new Vt({props:{title:s[20],showSheet:s[19],$$slots:{panel:[os],default:[ts]},$$scope:{ctx:s}}}),e.$on("onpanelstatus",s[38]),{c(){y(e.$$.fragment)},m(n,i){I(e,n,i),t=!0},p(n,i){const l={};i[0]&1048576&&(l.title=n[20]),i[0]&524288&&(l.showSheet=n[19]),i[0]&16250847|i[3]&32768&&(l.$$scope={dirty:i,ctx:n}),e.$set(l)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){w(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function is(s){let e,t,n,i,l,a,r,u,g,f,d,k,Q,p;return u=new Le({props:{options:s[30],placeholder:"Choose An Action",className:"py-2.5 text-sm"}}),d=new ne({props:{buttonText:"Proceed",className:"text-base min-w-full w-full py-2.5"}}),Q=new ne({props:{buttonText:"Cancel",className:"text-base min-w-full w-full py-2.5 bg-white text-gray-800 border-2 border-gray-800 hover:bg-transparent focus:bg-transparent focus:ring-gray-200"}}),Q.$on("click",s[85]),{c(){e=b("div"),t=b("div"),n=b("div"),i=b("p"),i.textContent="Select an action",l=T(),a=b("button"),r=T(),y(u.$$.fragment),g=T(),f=b("div"),y(d.$$.fragment),k=T(),y(Q.$$.fragment),$(i,"class","font-medium text-center text-lg text-gray-600"),$(a,"type","button"),$(f,"class","space-y-3"),$(t,"class","flex flex-col h-80 w-[20rem] space-y-16 mt-1"),$(e,"slot","drawer"),$(e,"class","w-full flex justify-center")},m(q,F){W(q,e,F),c(e,t),c(t,n),c(n,i),c(n,l),c(n,a),c(n,r),I(u,n,null),c(t,g),c(t,f),I(d,f,null),c(f,k),I(Q,f,null),p=!0},p:de,i(q){p||(_(u.$$.fragment,q),_(d.$$.fragment,q),_(Q.$$.fragment,q),p=!0)},o(q){w(u.$$.fragment,q),w(d.$$.fragment,q),w(Q.$$.fragment,q),p=!1},d(q){q&&L(e),A(u),A(d),A(Q)}}}function rs(s){let e,t,n,i,l,a,r,u,g,f,d,k;return d=new ne({props:{buttonText:"Close",className:"text-sm"}}),d.$on("click",s[87]),{c(){e=b("div"),t=b("div"),t.innerHTML='<svg class="h-28 w-28" xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" width="782.04441" height="701.88002" viewBox="0 0 782.04441 701.88002" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M609.48783,100.59015l-25.44631,6.56209L270.53735,187.9987,245.091,194.56079A48.17927,48.17927,0,0,0,210.508,253.17865L320.849,681.05606a48.17924,48.17924,0,0,0,58.61776,34.58317l.06572-.01695,364.26536-93.93675.06572-.01695a48.17923,48.17923,0,0,0,34.58309-58.6178l-110.341-427.87741A48.17928,48.17928,0,0,0,609.48783,100.59015Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M612.94784,114.00532l-30.13945,7.77236L278.68955,200.20385l-30.139,7.77223a34.30949,34.30949,0,0,0-24.6275,41.74308l110.341,427.87741a34.30946,34.30946,0,0,0,41.7431,24.62736l.06572-.01695,364.26536-93.93674.06619-.01707a34.30935,34.30935,0,0,0,24.627-41.7429l-110.341-427.87741A34.30938,34.30938,0,0,0,612.94784,114.00532Z" transform="translate(-208.9778 -99.05999)" fill="#fff"></path><path d="M590.19,252.56327,405.917,300.08359a8.01411,8.01411,0,0,1-4.00241-15.52046l184.273-47.52033A8.01412,8.01412,0,0,1,590.19,252.56327Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M628.955,270.49906,412.671,326.27437a8.01411,8.01411,0,1,1-4.00241-15.52046l216.284-55.77531a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M620.45825,369.93676l-184.273,47.52032a8.01411,8.01411,0,1,1-4.00242-15.52046l184.273-47.52032a8.01411,8.01411,0,1,1,4.00241,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M659.22329,387.87255l-216.284,55.77531a8.01411,8.01411,0,1,1-4.00242-15.52046l216.284-55.77531a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M650.72653,487.31025l-184.273,47.52033a8.01412,8.01412,0,0,1-4.00242-15.52047l184.273-47.52032a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M689.49156,505.246l-216.284,55.77532a8.01412,8.01412,0,1,1-4.00241-15.52047l216.284-55.77531a8.01411,8.01411,0,0,1,4.00242,15.52046Z" transform="translate(-208.9778 -99.05999)" fill="#f2f2f2"></path><path d="M374.45884,348.80871l-65.21246,16.817a3.847,3.847,0,0,1-4.68062-2.76146L289.5963,304.81607a3.847,3.847,0,0,1,2.76145-4.68061l65.21247-16.817a3.847,3.847,0,0,1,4.68061,2.76145l14.96947,58.04817A3.847,3.847,0,0,1,374.45884,348.80871Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M404.72712,466.1822l-65.21247,16.817a3.847,3.847,0,0,1-4.68062-2.76146l-14.96946-58.04816A3.847,3.847,0,0,1,322.626,417.509l65.21246-16.817a3.847,3.847,0,0,1,4.68062,2.76145l14.96946,58.04817A3.847,3.847,0,0,1,404.72712,466.1822Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M434.99539,583.55569l-65.21246,16.817a3.847,3.847,0,0,1-4.68062-2.76145l-14.96946-58.04817a3.847,3.847,0,0,1,2.76145-4.68062l65.21247-16.817a3.847,3.847,0,0,1,4.68061,2.76146l14.96947,58.04816A3.847,3.847,0,0,1,434.99539,583.55569Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M863.63647,209.0517H487.31811a48.17928,48.17928,0,0,0-48.125,48.12512V699.05261a48.17924,48.17924,0,0,0,48.125,48.12507H863.63647a48.17924,48.17924,0,0,0,48.125-48.12507V257.17682A48.17928,48.17928,0,0,0,863.63647,209.0517Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M863.637,222.90589H487.31811a34.30948,34.30948,0,0,0-34.271,34.27093V699.05261a34.30947,34.30947,0,0,0,34.271,34.27088H863.637a34.30936,34.30936,0,0,0,34.27051-34.27088V257.17682A34.30937,34.30937,0,0,0,863.637,222.90589Z" transform="translate(-208.9778 -99.05999)" fill="#fff"></path><circle cx="694.19401" cy="614.02963" r="87.85039" fill="#6c63ff"></circle><path d="M945.18722,701.63087H914.63056V671.07421a11.45875,11.45875,0,0,0-22.9175,0v30.55666H861.1564a11.45875,11.45875,0,0,0,0,22.9175h30.55666V755.105a11.45875,11.45875,0,1,0,22.9175,0V724.54837h30.55666a11.45875,11.45875,0,0,0,0-22.9175Z" transform="translate(-208.9778 -99.05999)" fill="#fff"></path><path d="M807.00068,465.71551H616.699a8.01412,8.01412,0,1,1,0-16.02823H807.00068a8.01412,8.01412,0,0,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M840.05889,492.76314H616.699a8.01412,8.01412,0,1,1,0-16.02823H840.05889a8.01411,8.01411,0,1,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M807.00068,586.929H616.699a8.01412,8.01412,0,1,1,0-16.02823H807.00068a8.01411,8.01411,0,0,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M840.05889,613.97661H616.699a8.01412,8.01412,0,1,1,0-16.02823H840.05889a8.01412,8.01412,0,1,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M574.07028,505.04162H506.72434a3.847,3.847,0,0,1-3.84278-3.84278V441.25158a3.847,3.847,0,0,1,3.84278-3.84278h67.34594a3.847,3.847,0,0,1,3.84278,3.84278v59.94726A3.847,3.847,0,0,1,574.07028,505.04162Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M574.07028,626.25509H506.72434a3.847,3.847,0,0,1-3.84278-3.84278V562.46505a3.847,3.847,0,0,1,3.84278-3.84278h67.34594a3.847,3.847,0,0,1,3.84278,3.84278v59.94726A3.847,3.847,0,0,1,574.07028,626.25509Z" transform="translate(-208.9778 -99.05999)" fill="#e6e6e6"></path><path d="M807.21185,330.781H666.91017a8.01411,8.01411,0,0,1,0-16.02823H807.21185a8.01411,8.01411,0,0,1,0,16.02823Z" transform="translate(-208.9778 -99.05999)" fill="#ccc"></path><path d="M840.27007,357.82862H666.91017a8.01411,8.01411,0,1,1,0-16.02822h173.3599a8.01411,8.01411,0,0,1,0,16.02822Z" transform="translate(-208.9778 -99.05999)" fill="#ccc"></path><path d="M635.85911,390.6071H506.51316a3.847,3.847,0,0,1-3.84277-3.84277V285.81706a3.847,3.847,0,0,1,3.84277-3.84277H635.85911a3.847,3.847,0,0,1,3.84277,3.84277V386.76433A3.847,3.847,0,0,1,635.85911,390.6071Z" transform="translate(-208.9778 -99.05999)" fill="#6c63ff"></path></svg>',n=T(),i=b("div"),l=b("p"),l.textContent="There were some Import Errors",a=T(),r=b("a"),u=Se("Click to Download"),g=T(),f=b("div"),y(d.$$.fragment),$(t,"class",""),$(l,"class","font-bold text-gray-800 text-lg"),$(r,"class","text-blue-500 text-sm"),$(r,"href",s[5]),$(i,"class","flex flex-col items-center space-y-6"),$(f,"class","pt-3"),$(e,"class","flex flex-col justify-center items-center h-full p-6 space-y-5")},m(Q,p){W(Q,e,p),c(e,t),c(e,n),c(e,i),c(i,l),c(i,a),c(i,r),c(r,u),c(e,g),c(e,f),I(d,f,null),k=!0},p(Q,p){(!k||p[0]&32)&&$(r,"href",Q[5])},i(Q){k||(_(d.$$.fragment,Q),k=!0)},o(Q){w(d.$$.fragment,Q),k=!1},d(Q){Q&&L(e),A(d)}}}function as(s){let e,t,n,i,l,a;return e=new Jt({props:{$$slots:{default:[ls]},$$scope:{ctx:s}}}),n=new Kt({props:{show:s[10],title:"What would you like to do?",$$slots:{drawer:[is]},$$scope:{ctx:s}}}),n.$on("status",s[86]),l=new Rt({props:{show:s[11],$$slots:{default:[rs]},$$scope:{ctx:s}}}),{c(){y(e.$$.fragment),t=T(),y(n.$$.fragment),i=T(),y(l.$$.fragment)},m(r,u){I(e,r,u),W(r,t,u),I(n,r,u),W(r,i,u),I(l,r,u),a=!0},p(r,u){const g={};u[0]&16775135|u[3]&32768&&(g.$$scope={dirty:u,ctx:r}),e.$set(g);const f={};u[0]&1024&&(f.show=r[10]),u[0]&1024|u[3]&32768&&(f.$$scope={dirty:u,ctx:r}),n.$set(f);const d={};u[0]&2048&&(d.show=r[11]),u[0]&2080|u[3]&32768&&(d.$$scope={dirty:u,ctx:r}),l.$set(d)},i(r){a||(_(e.$$.fragment,r),_(n.$$.fragment,r),_(l.$$.fragment,r),a=!0)},o(r){w(e.$$.fragment,r),w(n.$$.fragment,r),w(l.$$.fragment,r),a=!1},d(r){r&&(L(t),L(i)),A(e,r),A(n,r),A(l,r)}}}function us(s,e,t){var Be,Ee,He;let n,i;jt(s,Wt,o=>t(93,i=o));let l={questionId:"",question:"<p></p>",options:["<p></p>","<p></p>"],correctAnswer:"",questionScore:"1",sectionId:"",topicId:"",source:""},a,r,u,g=pe,f,d="",k=!1,Q=!1,p=!1,q=!1,F=!1,P=!1,E=JSON.stringify(l),N=i.props.classCode,V=i.props.assessmentId,X=(Be=i.props)==null?void 0:Be.subjectId,D=(Ee=i.props)==null?void 0:Ee.subjectTitle,U=(He=i.props)==null?void 0:He.questionBankClasses,h=i.props.questionBankId,Z=i.props.isAssessmentQB,J=[],Y=[],M=[],R=[],j=[],O=[],ue=[],ee=[],oe=[{placeholder:"Assign Questions To Assessment",value:"assign"},{placeholder:"Unassign Questions From Assessment",value:"unassign"},{placeholder:"Generate New Questions From Questions",value:"generate"},{placeholder:"Move Questions To A Section",value:"moveQuestionToSection"}],G=!1,te,m={addNewQuestion:"Add New Question",editQuestion:"Edit Question",uploadQuestions:"Upload File",importQuestions:"Import Questions",addSection:"Add Section",editSection:"Edit Section"},B={},K={},C=[{placeholder:"Question",value:"question",isSelected:!1},{placeholder:"Option",value:"options",isSelected:!1},{placeholder:"Score",value:"questionScore",isSelected:!1},{placeholder:"Correct Answer",value:"correctAnswer",isSelected:!1}],v={sectionTitle:"",sectionDescription:"",sectionId:"",sectionScore:"",sectionTotalQuestions:"",questionType:""},Te=JSON.stringify(v),qe,Fe=JSON.stringify(C),x={};Ot(()=>{Ve(),fe(),se(),ze()});const Ve=()=>{let o=`/api/assessment/question-banks/${V}?`;X&&(o+=`&subject=${X}`),N&&(o+=`&class=${N}`),z.getWithToken(o,{onSuccess:S=>{t(13,Y=S.data.flatMap(H=>[{placeholder:`${H.subject}   |  ${H.teacher}   |   ${H.totalQuestions} Ques`,value:H.questionBankId}]))}})},Je=o=>{z.getWithToken(`/api/question-bank/sections/${o}`,{onSuccess:S=>{t(16,j=S.data.flatMap(H=>[{placeholder:H.sectionTitle,value:H.sectionId,questionType:H.questionType,sectionDescription:H.sectionDescription,sectionTotalQuestions:H.sectionTotalQuestions,sectionScore:H.sectionScore,sectionTitle:H.sectionTitle,sectionId:H.sectionId}]))}})},fe=()=>{z.getWithToken(`/api/question-bank/sections/${h}`,{onSuccess:o=>{t(15,R=o.data.flatMap(S=>[{placeholder:S.sectionTitle,value:S.sectionId,questionType:S.questionType,sectionDescription:S.sectionDescription,sectionTotalQuestions:S.sectionTotalQuestions,sectionScore:S.sectionScore,sectionScore:S.sectionScore,sectionTitle:S.sectionTitle,sectionId:S.sectionId}]))}})},ve=o=>{u=o,Je(u),Pe()},Pe=()=>{z.getWithToken(`/api/get-questions/${u}`,{onSuccess:o=>{t(14,M=o.data)}})},se=()=>{z.getWithToken(`/api/get-questions/${h}`,{onSuccess:o=>{t(12,J=o.data)}})},ze=()=>{z.getWithToken("/api/question-types",{onSuccess:o=>{t(18,ue=o.data.flatMap(S=>[{placeholder:S,value:S}]))},onError:o=>{}})},me=o=>{let S=JSON.stringify(o);t(6,k=!0),t(9,q=!q),t(0,l=JSON.parse(S)),ie(m.editQuestion)},ye=()=>{t(8,p=!1),t(6,k=!1),t(9,q=!q),t(0,l=JSON.parse(E)),se(),le()},Ie=()=>{se(),le(),t(8,p=!1)},Ue=()=>{if(p)return;t(8,p=!0);let o=new FormData;o.append("file",f.uploadFile),o.append("assessmentId",V),z.postFormWithToken("/api/question/import",o,{onSuccess:S=>{qe=S.data.key,t(21,K=S.data.headings),t(20,te=m.importQuestions),setTimeout(()=>t(8,p=!1),2e3)}})},Re=()=>{p||(t(8,p=!0),z.postWithToken("/api/question/import",{mappings:x,assessmentId:V,key:qe,questionBankId:h,questionType:r,sectionId:a},{onSuccess:o=>{se(),t(1,a=null),le(),setTimeout(()=>t(8,p=!1),2e3),o.data.errors&&(sessionStorage.setItem("importError",o.data.errors),t(11,P=!0),t(5,d=o.data.errors))},onError:o=>{se(),setTimeout(()=>t(8,p=!1),2e3)}}))},le=()=>{t(19,G=!1),ge()},ie=o=>{t(20,te=o),t(19,G=!0)},ge=()=>{t(0,l=JSON.parse(E)),t(52,C=JSON.parse(Fe)),t(22,v=JSON.parse(Te)),x={}},he=o=>{var H;let S=C.filter(we=>o.value===we.value&&o.value!="options")[0];S&&(S.isSelected=!S.isSelected),o.selected&&o.value!="options"&&(x[o.value]=Object.keys(K)[o.index]),o.selected&&o.value=="options"&&(x[o.value]=x[o.value]?[...x[o.value],Object.keys(K)[o.index]]:[Object.keys(K)[o.index]]),o.deselected&&o.value!="options"&&delete x[o.value],o.deselected&&o.value=="options"&&(x[o.value]=(H=x[o.value])==null?void 0:H.filter(we=>we!=Object.keys(K)[o.index])),t(52,C)},_e=o=>{console.log(o),z.postWithToken("/api/questions/delete",{questionIds:o,assessmentId:V},{onSuccess:S=>{se()}})},Ge=()=>{t(8,p=!0),z.postWithToken("/api/question-bank/create/section",{questionBankId:h,title:v.sectionTitle,description:v.sectionDescription,questionType:v.questionType,sectionScore:v.sectionScore,totalQuestions:v.sectionTotalQuestions},{onSuccess:o=>{fe(),le(),t(8,p=!1)},onError:o=>{t(8,p=!1)}})},Ae=o=>{B=R.filter(S=>S.value===o)[0],t(22,v=B),t(7,Q=!0)},Ke=()=>{t(22,v=JSON.parse(Te)),B={},t(7,Q=!1)},Me=()=>{t(22,v=B),ie(m.editSection)},Xe=()=>{t(8,p=!0),z.postWithToken(`/api/question-bank/update/section/${v.sectionId}`,{sectionTitle:v.sectionTitle,sectionDescription:v.sectionDescription,questionType:v.questionType,sectionScore:v.sectionScore,totalQuestions:v.sectionTotalQuestions},{onSuccess:o=>{fe(),le(),t(8,p=!1)},onError:o=>{t(8,p=!1)}})},Ye=()=>{t(7,Q=!1),z.postWithToken(`/api/question-bank/delete/section/${B.sectionId}`,{questionBankId:h},{onSuccess:o=>{fe(),se()}})},be=o=>{xe(o,ee)||(ee.push(o),ee=ee)},$e=o=>{ee=ee.filter(S=>o!=S)},Ne=(o,S)=>{S===!0?o.forEach(H=>$e(H)):o.forEach(H=>be(H))},xe=(o,S)=>S.includes(o),et=()=>t(8,p=!0),tt=()=>t(8,p=!1),st=o=>ye(),nt=o=>Ie();function ot(o){Lt[o?"unshift":"push"](()=>{f=o,t(4,f)})}const lt=o=>he(o.detail),it=o=>he(o.detail),rt=()=>t(20,te=m.uploadQuestions),at=o=>{t(1,a=o.detail.value),t(2,r=o.detail.questionType)},ut=o=>{t(1,a=null),t(2,r=null)},ft=o=>t(22,v.sectionTitle=o.detail.input,v),ct=o=>t(22,v.questionType=o.detail.value,v),pt=o=>t(22,v.questionType="",v),dt=o=>t(22,v.sectionDescription=o.detail.input,v),mt=o=>t(22,v.sectionTotalQuestions=o.detail.input,v),gt=o=>t(22,v.sectionScore=o.detail.input,v),ht=()=>t(3,g=pe),_t=()=>t(3,g=ke),bt=o=>me(o.detail),$t=o=>_e(o.detail.selectedQuestions),wt=o=>ve(o.detail.value),St=()=>ie(m.addNewQuestion),kt=()=>ie(m.uploadQuestions),Qt=()=>Me(),Tt=o=>Ae(o.detail.section),qt=()=>{ge(),ie(m.addSection)},vt=o=>me(o.detail),yt=o=>_e(o.detail.selectedQuestions),It=o=>be(o.detail.questionId),At=o=>$e(o.detail.questionId),Mt=o=>Ne(o.detail.questions,o.detail.checkedAll),Nt=()=>t(10,F=!0),Bt=()=>t(10,F=!1),Et=o=>t(10,F=o),Ht=()=>{sessionStorage.removeItem("importError"),t(11,P=!1),t(5,d="")};return s.$$.update=()=>{s.$$.dirty[1]&2097152&&t(23,n=()=>C==null?void 0:C.filter(o=>o.isSelected==!1))},[l,a,r,g,f,d,k,Q,p,q,F,P,J,Y,M,R,j,O,ue,G,te,K,v,n,N,X,D,U,h,Z,oe,m,ve,me,ye,Ie,Ue,Re,le,ie,ge,he,_e,Ge,Ae,Ke,Me,Xe,Ye,be,$e,Ne,C,et,tt,st,nt,ot,lt,it,rt,at,ut,ft,ct,pt,dt,mt,gt,ht,_t,bt,$t,wt,St,kt,Qt,Tt,qt,vt,yt,It,At,Mt,Nt,Bt,Et,Ht]}class Es extends Zt{constructor(e){super(),Ct(this,e,us,as,Dt,{},null,[-1,-1,-1,-1])}}export{Es as default};
