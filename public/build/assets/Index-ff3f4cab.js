import{S as xe,i as Ce,s as Se,f as d,g as k,c as Y,n as S,h as u,L as ce,j as J,k as t,m as Z,q as T,t as $,a as ee,l as K,d as te,b as we,w as ie,D as je,M as Ne,N as fe,C as Ie,p as ye,e as Le,O as Pe}from"./app-6d9f305e.js";import{r as pe}from"./util-f704b04e.js";import me from"./button-8a7fdb21.js";import De from"./input-694295df.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";function _e(n,l,e){const m=n.slice();return m[14]=l[e],m}function ge(n){let l,e,m,i;return{c(){l=d("div"),e=d("div"),m=d("p"),i=S(n[5]),u(e,"class","p-5 rounded-lg min-w-max max-w-min bg-red-100 border-2 border-red-200 text-red-800"),u(l,"class","px-14 pt-16")},m(r,a){J(r,l,a),t(l,e),t(e,m),t(m,i)},p(r,a){a&32&&T(i,r[5])},d(r){r&&K(l)}}}function he(n){let l,e,m,i,r=ie(n[2]),a=[];for(let s=0;s<r.length;s+=1)a[s]=be(_e(n,r,s));return{c(){l=d("div"),e=d("p"),e.textContent="Courses",m=k(),i=d("ul");for(let s=0;s<a.length;s+=1)a[s].c();u(e,"class","font-extrabold my-6 text-2xl"),u(i,"class","space-y-4 text-gray-600 text-sm"),u(l,"class","mt-6")},m(s,f){J(s,l,f),t(l,e),t(l,m),t(l,i);for(let o=0;o<a.length;o+=1)a[o]&&a[o].m(i,null)},p(s,f){if(f&68){r=ie(s[2]);let o;for(o=0;o<r.length;o+=1){const h=_e(s,r,o);a[o]?a[o].p(h,f):(a[o]=be(h),a[o].c(),a[o].m(i,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=r.length}},d(s){s&&K(l),je(a,s)}}}function be(n){let l,e,m,i=!1,r,a,s=n[14].subjectName+"",f,o,h=n[14].subjectCode+"",g,D,x,w,_,j;return w=Ne(n[11][0]),{c(){l=d("li"),e=d("input"),r=k(),a=d("span"),f=S(s),o=S(" ("),g=S(h),D=S(")"),x=k(),u(e,"type","checkbox"),e.__value=m=n[14].subjectId,fe(e,e.__value),u(l,"class","flex space-x-2"),w.p(e)},m(c,C){J(c,l,C),t(l,e),e.checked=~(n[6]||[]).indexOf(e.__value),t(l,r),t(l,a),t(a,f),t(a,o),t(a,g),t(a,D),t(l,x),_||(j=Ie(e,"change",n[10]),_=!0)},p(c,C){C&4&&m!==(m=c[14].subjectId)&&(e.__value=m,fe(e,e.__value),i=!0),(i||C&68)&&(e.checked=~(c[6]||[]).indexOf(e.__value)),C&4&&s!==(s=c[14].subjectName+"")&&T(f,s),C&4&&h!==(h=c[14].subjectCode+"")&&T(g,h)},d(c){c&&K(l),w.r(),_=!1,j()}}}function Te(n){let l,e,m,i,r,a,s,f,o,h,g,D,x,w,_,j,c,C,M,I,W,se,y,q,le,B,G=(n[0].studentName??"")+"",Q,ne,O,ae,R,z=(n[0].studentCode??"")+"",U,ue,E,oe,A,F=(n[0].studentLevel??"")+"",V,de,X,H,L,P,ve={label:"Enter Student Reg Number"};f=new De({props:ve}),n[9](f),g=new me({props:{buttonText:"Get Student Data"}}),g.$on("click",n[7]);let b=n[4]&&ge(n),v=n[0].studentCode&&he(n);return L=new me({props:{disabled:n[3],className:"max-w-fit",buttonText:"Check In Student"}}),L.$on("click",n[8]),{c(){l=d("div"),e=d("div"),m=d("div"),i=d("div"),r=d("h1"),r.textContent="Student Check In",a=k(),s=d("div"),Y(f.$$.fragment),o=k(),h=d("div"),Y(g.$$.fragment),D=k(),x=d("div"),b&&b.c(),w=k(),_=d("div"),j=d("h1"),j.textContent="Student Info",c=k(),C=d("div"),M=d("div"),I=d("img"),se=k(),y=d("div"),q=d("p"),le=S("Student Name:    "),B=d("span"),Q=S(G),ne=k(),O=d("p"),ae=S("Student Code:    "),R=d("span"),U=S(z),ue=k(),E=d("p"),oe=S("Student Level:    "),A=d("span"),V=S(F),de=k(),v&&v.c(),X=k(),H=d("div"),Y(L.$$.fragment),u(r,"class","font-extrabold text-4xl"),u(s,"class","space-y-6 mt-12"),u(h,"class","mt-10"),u(i,"class","flex flex-col py-12"),u(m,"class","container flex flex-1 flex-col justify-center px-20"),u(j,"class","font-extrabold text-3xl"),ce(I.src,W=`/${n[0].studentPhoto}`)||u(I,"src",W),u(I,"alt",""),u(I,"class","rounded-lg flex h-44 min-w-max max-w-[11rem] w-auto bg-gray-300"),u(M,"class","rounded-lg bg-contain "),u(C,"class","space-y-6 mt-12"),u(B,"class","font-medium text-gray-700"),u(q,"class","font-semibold"),u(R,"class","font-medium text-gray-700"),u(O,"class","font-semibold"),u(A,"class","font-medium text-gray-700"),u(E,"class","font-semibold"),u(y,"class","space-y-6 mt-12"),u(H,"class","mt-10"),u(_,"class","flex flex-col py-12 w-full px-14"),u(x,"class","container flex flex-col max-w-[40rem] border-2 rounded-lg"),u(e,"class","flex container rounded-lg p-12"),u(l,"class","max-h-screen min-h-screen w-screen container")},m(p,N){J(p,l,N),t(l,e),t(e,m),t(m,i),t(i,r),t(i,a),t(i,s),Z(f,s,null),t(i,o),t(i,h),Z(g,h,null),t(e,D),t(e,x),b&&b.m(x,null),t(x,w),t(x,_),t(_,j),t(_,c),t(_,C),t(C,M),t(M,I),t(_,se),t(_,y),t(y,q),t(q,le),t(q,B),t(B,Q),t(y,ne),t(y,O),t(O,ae),t(O,R),t(R,U),t(y,ue),t(y,E),t(E,oe),t(E,A),t(A,V),t(_,de),v&&v.m(_,null),t(_,X),t(_,H),Z(L,H,null),P=!0},p(p,[N]){const ke={};f.$set(ke),p[4]?b?b.p(p,N):(b=ge(p),b.c(),b.m(x,w)):b&&(b.d(1),b=null),(!P||N&1&&!ce(I.src,W=`/${p[0].studentPhoto}`))&&u(I,"src",W),(!P||N&1)&&G!==(G=(p[0].studentName??"")+"")&&T(Q,G),(!P||N&1)&&z!==(z=(p[0].studentCode??"")+"")&&T(U,z),(!P||N&1)&&F!==(F=(p[0].studentLevel??"")+"")&&T(V,F),p[0].studentCode?v?v.p(p,N):(v=he(p),v.c(),v.m(_,X)):v&&(v.d(1),v=null);const re={};N&8&&(re.disabled=p[3]),L.$set(re)},i(p){P||($(f.$$.fragment,p),$(g.$$.fragment,p),$(L.$$.fragment,p),P=!0)},o(p){ee(f.$$.fragment,p),ee(g.$$.fragment,p),ee(L.$$.fragment,p),P=!1},d(p){p&&K(l),n[9](null),te(f),te(g),b&&b.d(),v&&v.d(),te(L)}}}function qe(n,l,e){let m;we(n,ye,c=>e(12,m=c));let i=m.props.assessmentId,r,a=[],s={studentCode:"",studentName:"",studentLevel:"",studentPhoto:""},f=!1,o=!1,h="",g=[];const D=()=>{e(3,f=!0),pe.postWithToken("/api/student/check-in/get",{studentId:r.value,assessmentId:i},{onSuccess:c=>{e(0,s.studentCode=c.data.studentCode,s),e(0,s.studentName=c.data.studentName,s),e(0,s.studentLevel=c.data.studentClass,s),e(0,s.studentPhoto=c.data.studentPhoto,s),e(2,a=c.data.subjects),e(3,f=!1),e(4,o=!1)},onError:c=>{c.errors&&(e(4,o=!0),e(5,h=c.message))}})},x=()=>{e(3,f=!0),pe.postWithToken("/api/student/check-in/"+i,{studentId:r.value,subjects:g},{onSuccess:c=>{if(c.data.error){e(5,h=c.data.error),e(4,o=!0);return}e(4,o=!1),console.log(o),e(0,s={}),e(1,r.value="",r),e(6,g=[]),e(3,f=!1)}})},w=[[]];function _(c){Le[c?"unshift":"push"](()=>{r=c,e(1,r)})}function j(){g=Pe(w[0],this.__value,this.checked),e(6,g)}return n.$$.update=()=>{n.$$.dirty&1&&e(3,f=!(s.studentCode&&s.studentLevel&&s.studentName))},[s,r,a,f,o,h,g,D,x,_,j,w]}class Re extends xe{constructor(l){super(),Ce(this,l,qe,Te,Se,{})}}export{Re as default};
