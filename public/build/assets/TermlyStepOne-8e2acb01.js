import{S as ve,i as ge,s as he,f as i,g as y,c as H,h as r,j as _e,k as l,m as O,a as q,B as Se,t as B,l as be,d as P,o as we,y as ye,e as X}from"./app-6d9f305e.js";import{r as j}from"./util-f704b04e.js";import ce from"./button-8a7fdb21.js";import Ie from"./input-694295df.js";import le from"./select-5f1b2e78.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";import"./icons-c5a046aa.js";function ke(e){let n,t;return n=new ce({props:{disabled:e[3],buttonText:"Save & Continue",className:"px-8"}}),n.$on("click",e[15]),{c(){H(n.$$.fragment)},m(a,p){O(n,a,p),t=!0},p(a,p){const g={};p&8&&(g.disabled=a[3]),n.$set(g)},i(a){t||(B(n.$$.fragment,a),t=!0)},o(a){q(n.$$.fragment,a),t=!1},d(a){P(n,a)}}}function Te(e){let n,t;return n=new ce({props:{disabled:e[3],buttonText:"Update & Continue",className:"px-8"}}),n.$on("click",e[16]),{c(){H(n.$$.fragment)},m(a,p){O(n,a,p),t=!0},p(a,p){const g={};p&8&&(g.disabled=a[3]),n.$set(g)},i(a){t||(B(n.$$.fragment,a),t=!0)},o(a){q(n.$$.fragment,a),t=!1},d(a){P(n,a)}}}function xe(e){let n,t,a,p,g,h,w,c,d,A,m,_,I,R,D,v,C,S,L,Y,U,k,Z,M,z,o,b,T,x,f,$,ae,ee,N,ne,F,G,re,V,se,J;const oe=[Te,ke],E=[];function ie(s,u){return s[9]?0:1}c=ie(e),d=E[c]=oe[c](e);let me={value:e[10]};v=new Ie({props:me}),e[17](v);let pe={value:e[12].value,placeholder:e[12].placeholder?e[12].placeholder:"Select an Assessment Type",className:"text-sm py-2.5",isSelected:!!e[12].value,options:e[0]};k=new le({props:pe}),e[18](k);let de={value:e[13].value,placeholder:e[13].placeholder?e[13].placeholder:"Select Academic Session",className:"text-sm py-2.5",isSelected:!!e[13].value,options:e[1]};T=new le({props:de}),e[19](T);let fe={value:e[14].value,placeholder:e[14].placeholder?e[14].placeholder:"Select Semester",className:"text-sm py-2.5",isSelected:!!e[14].value,options:e[2]};return N=new le({props:fe}),e[20](N),{c(){n=i("div"),t=i("div"),a=i("div"),p=i("div"),g=i("div"),g.innerHTML='<div class="text-xl font-medium min-w-max text-gray-700">Assessment Details</div> <div class="text-gray-500 text-sm">Fill in the assessment details below</div>',h=y(),w=i("div"),d.c(),A=y(),m=i("div"),_=i("div"),I=i("span"),I.textContent="Enter Assessment Title",R=y(),D=i("div"),H(v.$$.fragment),C=y(),S=i("div"),L=i("div"),L.textContent="Select Assessment Type",Y=y(),U=i("div"),H(k.$$.fragment),Z=y(),M=i("div"),z=i("div"),z.textContent="Select Academic Session",o=y(),b=i("div"),H(T.$$.fragment),x=y(),f=i("div"),$=i("div"),$.textContent="Select Semester",ae=y(),ee=i("div"),H(N.$$.fragment),ne=y(),F=i("div"),G=i("label"),G.textContent="Enter Assessment Description",re=y(),V=i("textarea"),r(g,"class","space-y-2"),r(w,"class",""),r(p,"class","flex items-center justify-between my-2 border-b border-gray-50 pb-8"),r(I,"class","flex-shrink-0 w-[18rem] text-gray-800 font-semibold"),r(D,"class","w-full"),r(_,"class","flex w-full items-center text-sm max-w-4xl"),r(L,"class","flex-shrink-0 w-[18rem] text-gray-800 font-semibold"),r(U,"class","w-full"),r(S,"class","flex w-full items-center text-sm max-w-4xl"),r(z,"class","flex-shrink-0 w-[18rem] text-gray-800 font-semibold"),r(b,"class","w-full"),r(M,"class","flex w-full items-center text-sm max-w-4xl"),r($,"class","flex-shrink-0 w-[18rem] text-gray-800 font-semibold"),r(ee,"class","w-full"),r(f,"class","flex w-full items-center text-sm max-w-4xl"),r(G,"class","w-[18rem] flex-shrink-0 text-gray-800 font-semibold"),r(G,"for",""),r(V,"class","border-0 w-full focus:outline-none ring-1 ring-gray-300 focus:ring-gray-500 rounded-lg resize-none p-4 border-gray-300 text-gray-800 text-sm text-left"),r(V,"cols","30"),r(V,"rows","5"),V.value=se=e[11]??"",r(F,"class","flex w-full items-center text-sm max-w-4xl pt-4"),r(m,"class","my-12 space-y-6 w-full"),r(a,"class","mx-auto max-w-4xl"),r(t,"class","shadow bg-white px-8 py-12 rounded-lg w-full"),r(n,"class","container my-12 space-x-10")},m(s,u){_e(s,n,u),l(n,t),l(t,a),l(a,p),l(p,g),l(p,h),l(p,w),E[c].m(w,null),l(a,A),l(a,m),l(m,_),l(_,I),l(_,R),l(_,D),O(v,D,null),l(m,C),l(m,S),l(S,L),l(S,Y),l(S,U),O(k,U,null),l(m,Z),l(m,M),l(M,z),l(M,o),l(M,b),O(T,b,null),l(m,x),l(m,f),l(f,$),l(f,ae),l(f,ee),O(N,ee,null),l(m,ne),l(m,F),l(F,G),l(F,re),l(F,V),e[21](V),J=!0},p(s,[u]){let te=c;c=ie(s),c===te?E[c].p(s,u):(ye(),q(E[te],1,1,()=>{E[te]=null}),Se(),d=E[c],d?d.p(s,u):(d=E[c]=oe[c](s),d.c()),B(d,1),d.m(w,null));const ue={};u&1024&&(ue.value=s[10]),v.$set(ue);const K={};u&4096&&(K.value=s[12].value),u&4096&&(K.placeholder=s[12].placeholder?s[12].placeholder:"Select an Assessment Type"),u&4096&&(K.isSelected=!!s[12].value),u&1&&(K.options=s[0]),k.$set(K);const Q={};u&8192&&(Q.value=s[13].value),u&8192&&(Q.placeholder=s[13].placeholder?s[13].placeholder:"Select Academic Session"),u&8192&&(Q.isSelected=!!s[13].value),u&2&&(Q.options=s[1]),T.$set(Q);const W={};u&16384&&(W.value=s[14].value),u&16384&&(W.placeholder=s[14].placeholder?s[14].placeholder:"Select Semester"),u&16384&&(W.isSelected=!!s[14].value),u&4&&(W.options=s[2]),N.$set(W),(!J||u&2048&&se!==(se=s[11]??""))&&(V.value=se)},i(s){J||(B(d),B(v.$$.fragment,s),B(k.$$.fragment,s),B(T.$$.fragment,s),B(N.$$.fragment,s),J=!0)},o(s){q(d),q(v.$$.fragment,s),q(k.$$.fragment,s),q(T.$$.fragment,s),q(N.$$.fragment,s),J=!1},d(s){s&&be(n),E[c].d(),e[17](null),P(v),e[18](null),P(k),e[19](null),P(T),e[20](null),P(N),e[21](null)}}}function Ae(e,n,t){let a=[],p=[],g=[],h,w=!1,c,d,A,m,_,I,R,D,v={},C={},S={};we(()=>{let b=location.href.split("?")[1],T=new URLSearchParams(b);t(9,I=T.get("assessmentId")),I&&j.get("/api/assessment/"+I,{onSuccess:x=>{h=x.data.assessment,t(10,R=h.title),t(11,D=h.description),t(14,S.value=h.termId,S),t(14,S.placeholder=h.term,S),t(12,v.value=h.assessmentTypeId,v),t(12,v.placeholder=h.assessmentType,v),t(13,C.value=h.academicSessionId,C),t(13,C.placeholder=h.academicSession,C)}}),j.get("/api/assessment-types",{onSuccess:x=>{t(0,a=x.data.flatMap(f=>[{placeholder:f.type,value:f.id}]))}}),j.get("/api/sessions",{onSuccess:x=>{t(1,p=x.data.flatMap(f=>[{placeholder:f.session,value:f.id}]))}}),j.get("/api/terms",{onSuccess:x=>{t(2,g=x.data.flatMap(f=>[{placeholder:f.term,value:f.id}]))}})});const L=()=>{t(3,w=!0);let o={assessmentTypeId:c.value,title:m.value,description:_.value,step:"create_assessment",isStandalone:!1,schoolTermId:A.value,academicSessionId:d.value};j.post("/api/assessment/create",o,{onSuccess:b=>{j.navigateTo("/assessments/termly/classes/"+b.data.assessmentId)},onError:b=>{t(3,w=!1)}})},Y=()=>{t(3,w=!0);let o={assessmentId:I,assessmentTypeId:c.value,title:m.value,description:_.value,step:"create_assessment",isStandalone:h.isStandalone,schoolTermId:A.value,academicSessionId:d.value};j.post("/api/assessment/update",o,{onSuccess:b=>{j.navigateTo("/assessments/termly/classes/"+b.data.assessmentId)},onError:b=>{t(3,w=!1)}})};function U(o){X[o?"unshift":"push"](()=>{m=o,t(7,m)})}function k(o){X[o?"unshift":"push"](()=>{c=o,t(4,c)})}function Z(o){X[o?"unshift":"push"](()=>{d=o,t(5,d)})}function M(o){X[o?"unshift":"push"](()=>{A=o,t(6,A)})}function z(o){X[o?"unshift":"push"](()=>{_=o,t(8,_)})}return[a,p,g,w,c,d,A,m,_,I,R,D,v,C,S,L,Y,U,k,Z,M,z]}class De extends ve{constructor(n){super(),ge(this,n,Ae,xe,he,{})}}export{De as default};
