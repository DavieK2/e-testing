import{S as ee,i as te,s as se,c as I,m as N,t as $,a as w,d as x,o as le,g as v,j as L,l as E,f as h,h as b,y as U,B as F,u as re,w as O,x as ne,z as oe,A as ae,k as g,D as ce,n as z,C as J,q as H,v as ue}from"./app-6d9f305e.js";import G from"./button-8a7fdb21.js";import fe from"./data_table-2f3c9d25.js";import ie from"./icons-c5a046aa.js";import pe from"./input-694295df.js";import de from"./slide_panel-2bd9836d.js";import{L as _e}from"./Layout-2cfd6595.js";import{r as q}from"./util-f704b04e.js";import me from"./dropdown-c4477011.js";import ge from"./top_header-1e968582.js";import be from"./app_container-a54f34ce.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";import"./utils-27538abd.js";import"./index-000d58f7.js";import"./link-7d7fab16.js";function K(r,e,s){const t=r.slice();return t[30]=e[s],t[32]=s,t}function Q(r,e,s){const t=r.slice();return t[27]=e[s],t}function he(r){let e,s,t;return s=new G({props:{buttonText:"New Class",className:"text-sm"}}),s.$on("click",r[11]),{c(){e=h("div"),I(s.$$.fragment)},m(n,a){L(n,e,a),N(s,e,null),t=!0},p:re,i(n){t||($(s.$$.fragment,n),t=!0)},o(n){w(s.$$.fragment,n),t=!1},d(n){n&&E(e),x(s)}}}function $e(r){let e,s,t,n,a;function c(){return r[21](r[30])}function l(){return r[22](r[30])}return{c(){e=h("button"),e.textContent="Edit Level",s=v(),t=h("button"),t.textContent="Add Courses",b(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),b(t,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(o,i){L(o,e,i),L(o,s,i),L(o,t,i),n||(a=[J(e,"click",c),J(t,"click",l)],n=!0)},p(o,i){r=o},d(o){o&&(E(e),E(s),E(t)),n=!1,ue(a)}}}function R(r,e){let s,t,n,a,c=e[32]+1+"",l,o,i,u=e[30].class_name+"",k,f,p,_=(e[30].studentCount??"Not Available")+"",d,C,M,j,y,D,B;return y=new me({props:{arrowColor:"fill-gray-600",placeholder:"Actions",className:"bg-white border  border-gray-300 text-gray-600",$$slots:{default:[$e]},$$scope:{ctx:e}}}),{key:r,first:null,c(){s=h("tr"),t=h("td"),t.innerHTML='<div class="flex items-center"><input id="checkbox-table-search-1" type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"/> <label for="checkbox-table-search-1" class="sr-only">checkbox</label></div>',n=v(),a=h("td"),l=z(c),o=v(),i=h("td"),k=z(u),f=v(),p=h("td"),d=z(_),C=v(),M=h("td"),j=h("div"),I(y.$$.fragment),D=v(),b(t,"class","w-4 p-4"),b(a,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(i,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(p,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),b(j,"class","w-40"),b(M,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),this.first=s},m(S,A){L(S,s,A),g(s,t),g(s,n),g(s,a),g(a,l),g(s,o),g(s,i),g(i,k),g(s,f),g(s,p),g(p,d),g(s,C),g(s,M),g(M,j),N(y,j,null),g(s,D),B=!0},p(S,A){e=S,(!B||A[0]&4)&&c!==(c=e[32]+1+"")&&H(l,c),(!B||A[0]&4)&&u!==(u=e[30].class_name+"")&&H(k,u),(!B||A[0]&4)&&_!==(_=(e[30].studentCount??"Not Available")+"")&&H(d,_);const P={};A[0]&4|A[1]&4&&(P.$$scope={dirty:A,ctx:e}),y.$set(P)},i(S){B||($(y.$$.fragment,S),B=!0)},o(S){w(y.$$.fragment,S),B=!1},d(S){S&&E(s),x(y)}}}function ke(r){let e=[],s=new Map,t,n,a=O(r[2]);const c=l=>l[30].class_code;for(let l=0;l<a.length;l+=1){let o=K(r,a,l),i=c(o);s.set(i,e[l]=R(i,o))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=ne()},m(l,o){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(l,o);L(l,t,o),n=!0},p(l,o){o[0]&40964&&(a=O(l[2]),U(),e=oe(e,o,c,1,l,a,s,t.parentNode,ae,R,t,K),F())},i(l){if(!n){for(let o=0;o<a.length;o+=1)$(e[o]);n=!0}},o(l){for(let o=0;o<e.length;o+=1)w(e[o]);n=!1},d(l){l&&E(t);for(let o=0;o<e.length;o+=1)e[o].d(l)}}}function we(r){let e,s;return e=new fe({props:{headings:r[9],$$slots:{default:[ke]},$$scope:{ctx:r}}}),{c(){I(e.$$.fragment)},m(t,n){N(e,t,n),s=!0},p(t,n){const a={};n[0]&4|n[1]&4&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){x(e,t)}}}function ye(r){let e,s,t,n;return e=new ge({props:{title:"Classes",$$slots:{default:[he]},$$scope:{ctx:r}}}),t=new be({props:{$$slots:{default:[we]},$$scope:{ctx:r}}}),{c(){I(e.$$.fragment),s=v(),I(t.$$.fragment)},m(a,c){N(e,a,c),L(a,s,c),N(t,a,c),n=!0},p(a,c){const l={};c[1]&4&&(l.$$scope={dirty:c,ctx:a}),e.$set(l);const o={};c[0]&4|c[1]&4&&(o.$$scope={dirty:c,ctx:a}),t.$set(o)},i(a){n||($(e.$$.fragment,a),$(t.$$.fragment,a),n=!0)},o(a){w(e.$$.fragment,a),w(t.$$.fragment,a),n=!1},d(a){a&&E(s),x(e,a),x(t,a)}}}function je(r){let e,s,t,n,a,c,l,o;t=new pe({props:{value:r[0],label:"Enter Class Name"}}),t.$on("input",r[20]);const i=[ve,Se],u=[];function k(f,p){return f[5]?0:1}return c=k(r),l=u[c]=i[c](r),{c(){e=h("div"),s=h("div"),I(t.$$.fragment),n=v(),a=h("div"),l.c(),b(a,"class","w-20"),b(e,"class","flex flex-col space-y-6 p-3")},m(f,p){L(f,e,p),g(e,s),N(t,s,null),g(e,n),g(e,a),u[c].m(a,null),o=!0},p(f,p){const _={};p[0]&1&&(_.value=f[0]),t.$set(_);let d=c;c=k(f),c===d?u[c].p(f,p):(U(),w(u[d],1,1,()=>{u[d]=null}),F(),l=u[c],l?l.p(f,p):(l=u[c]=i[c](f),l.c()),$(l,1),l.m(a,null))},i(f){o||($(t.$$.fragment,f),$(l),o=!0)},o(f){w(t.$$.fragment,f),w(l),o=!1},d(f){f&&E(e),x(t),u[c].d()}}}function Ce(r){let e,s,t,n,a,c,l,o,i=O(r[3]),u=[];for(let f=0;f<i.length;f+=1)u[f]=V(Q(r,i,f));const k=f=>w(u[f],1,1,()=>{u[f]=null});return l=new G({props:{disabled:r[4],buttonText:"Assign Courses"}}),l.$on("click",r[17]),{c(){e=h("div"),s=h("p"),s.textContent="Assign Courses",t=v(),n=h("div");for(let f=0;f<u.length;f+=1)u[f].c();a=v(),c=h("div"),I(l.$$.fragment),b(s,"class","text-gray-800 font-semibold pb-6"),b(n,"class","space-y-3"),b(c,"class","pt-10"),b(e,"class","flex flex-col space-y-3 p-3")},m(f,p){L(f,e,p),g(e,s),g(e,t),g(e,n);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(n,null);g(e,a),g(e,c),N(l,c,null),o=!0},p(f,p){if(p[0]&65800){i=O(f[3]);let d;for(d=0;d<i.length;d+=1){const C=Q(f,i,d);u[d]?(u[d].p(C,p),$(u[d],1)):(u[d]=V(C),u[d].c(),$(u[d],1),u[d].m(n,null))}for(U(),d=i.length;d<u.length;d+=1)k(d);F()}const _={};p[0]&16&&(_.disabled=f[4]),l.$set(_)},i(f){if(!o){for(let p=0;p<i.length;p+=1)$(u[p]);$(l.$$.fragment,f),o=!0}},o(f){u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)w(u[p]);w(l.$$.fragment,f),o=!1},d(f){f&&E(e),ce(u,f),x(l)}}}function Se(r){let e,s;return e=new G({props:{disabled:r[4],buttonText:"Save Class",className:"text-sm"}}),e.$on("click",r[12]),{c(){I(e.$$.fragment)},m(t,n){N(e,t,n),s=!0},p(t,n){const a={};n[0]&16&&(a.disabled=t[4]),e.$set(a)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){x(e,t)}}}function ve(r){let e,s;return e=new G({props:{disabled:r[4],buttonText:"Update Class",className:"text-sm"}}),e.$on("click",r[14]),{c(){I(e.$$.fragment)},m(t,n){N(e,t,n),s=!0},p(t,n){const a={};n[0]&16&&(a.disabled=t[4]),e.$set(a)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){x(e,t)}}}function V(r){let e,s,t,n,a,c,l,o,i=r[27].subjectName+"",u,k,f,p,_,d,C;t=new ie({props:{icon:"check",className:`${r[8](r[27].subjectId)?"stroke-green-700":"stroke-gray-300"}`}});function M(){return r[19](r[27])}return{c(){e=h("div"),s=h("button"),I(t.$$.fragment),a=v(),c=h("div"),l=h("button"),o=h("span"),u=z(i),p=v(),b(s,"class",n=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[8](r[27].subjectId)?"border-green-700":"border-gray-300"} rounded-lg`),b(o,"class",k=`${r[8](r[27].subjectId)?"text-green-700":"text-gray-400"}`),b(l,"type","button"),b(l,"class",f=`flex p-3 border-2 ${r[8](r[27].subjectId)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),b(c,"class","w-full"),b(e,"class","flex space-x-2 items-center w-full")},m(j,y){L(j,e,y),g(e,s),N(t,s,null),g(e,a),g(e,c),g(c,l),g(l,o),g(o,u),g(e,p),_=!0,d||(C=J(s,"click",M),d=!0)},p(j,y){r=j;const D={};y[0]&264&&(D.className=`${r[8](r[27].subjectId)?"stroke-green-700":"stroke-gray-300"}`),t.$set(D),(!_||y[0]&264&&n!==(n=`flex items-center shrink-0 justify-center h-[3.2rem] w-[3.2rem] border-2 ${r[8](r[27].subjectId)?"border-green-700":"border-gray-300"} rounded-lg`))&&b(s,"class",n),(!_||y[0]&8)&&i!==(i=r[27].subjectName+"")&&H(u,i),(!_||y[0]&264&&k!==(k=`${r[8](r[27].subjectId)?"text-green-700":"text-gray-400"}`))&&b(o,"class",k),(!_||y[0]&264&&f!==(f=`flex p-3 border-2 ${r[8](r[27].subjectId)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&b(l,"class",f)},i(j){_||($(t.$$.fragment,j),_=!0)},o(j){w(t.$$.fragment,j),_=!1},d(j){j&&E(e),x(t),d=!1,C()}}}function Ie(r){let e,s,t,n;const a=[Ce,je],c=[];function l(o,i){return o[1]?0:1}return s=l(r),t=c[s]=a[s](r),{c(){e=h("div"),t.c(),b(e,"slot","panel")},m(o,i){L(o,e,i),c[s].m(e,null),n=!0},p(o,i){let u=s;s=l(o),s===u?c[s].p(o,i):(U(),w(c[u],1,1,()=>{c[u]=null}),F(),t=c[s],t?t.p(o,i):(t=c[s]=a[s](o),t.c()),$(t,1),t.m(e,null))},i(o){n||($(t),n=!0)},o(o){w(t),n=!1},d(o){o&&E(e),c[s].d()}}}function Ne(r){let e,s;return e=new de({props:{title:r[6],showSheet:r[7],$$slots:{panel:[Ie],default:[ye]},$$scope:{ctx:r}}}),e.$on("onpanelstatus",r[10]),{c(){I(e.$$.fragment)},m(t,n){N(e,t,n),s=!0},p(t,n){const a={};n[0]&64&&(a.title=t[6]),n[0]&128&&(a.showSheet=t[7]),n[0]&319|n[1]&4&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){x(e,t)}}}function xe(r){let e,s;return e=new _e({props:{$$slots:{default:[Ne]},$$scope:{ctx:r}}}),{c(){I(e.$$.fragment)},m(t,n){N(e,t,n),s=!0},p(t,n){const a={};n[0]&511|n[1]&4&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){x(e,t)}}}function Ae(r,e,s){let t,n=["SN","Level","Total Students","Actions"],a=[],c=[],l=!1,o=[],i="",u,k=!1,f="Create New Level";le(()=>{M(),j()});let p=!1;const _=()=>{s(7,p=!1),C()},d=()=>s(7,p=!0),C=()=>{s(5,u=void 0),s(0,i=""),s(1,k=!1),s(4,l=!1)},M=()=>{q.get("/api/classes",{onSuccess:m=>{s(2,a=m.data)}})},j=()=>{q.get("/api/subjects",{onSuccess:m=>{s(3,c=m.data)}})},y=()=>{s(4,l=!0),q.post("/api/class/create",{className:i},{onSuccess:m=>{M(),_(),C(),s(4,l=!1)},onError:m=>{s(4,l=!1)}})},D=m=>{s(4,l=!0),s(5,u=m),q.get("/api/class/subjects/"+m,{onSuccess:T=>{s(1,k=!0),s(18,o=T.data),d(),s(4,l=!1)},onError:T=>{s(4,l=!1)}})},B=()=>{s(4,l=!0),q.post("/api/class/update/"+u,{className:i},{onSuccess:m=>{M(),_(),C(),s(4,l=!1)},onError:m=>{s(4,l=!1)}})},S=(m,T)=>{s(5,u=m),s(0,i=T),s(6,f="Edit Class"),d()},A=m=>{if(t(m.subjectId)){s(18,o=o.filter(T=>T.subjectId!=m.subjectId));return}o.push(m),s(18,o)},P=()=>{s(4,l=!0);let m=o.flatMap(T=>[T.subjectId]);q.post("/api/class/assign-subjects/"+u,{subjects:m},{onSuccess:T=>{_(),s(4,l=!1)}})},W=m=>A(m),X=m=>s(0,i=m.detail.input),Y=m=>S(m.id,m.class_name),Z=m=>D(m.id);return r.$$.update=()=>{r.$$.dirty[0]&262144&&s(8,t=m=>o.some(T=>T.subjectId==m)),r.$$.dirty[0]&262147&&s(4,l=k&&o.length===0||!k&&i.length===0)},[i,k,a,c,l,u,f,p,t,n,_,d,y,D,B,S,A,P,o,W,X,Y,Z]}class Qe extends ee{constructor(e){super(),te(this,e,Ae,xe,se,{},null,[-1,-1])}}export{Qe as default};
