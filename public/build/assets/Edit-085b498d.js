import{S as ie,i as ue,s as fe,c as A,m as E,t as C,a as I,d as D,b as de,o as me,w as ee,f,g as B,n as ae,h as a,j as H,k as r,r as pe,y as se,B as te,l as P,D as ge,p as be,C as oe,q as _e}from"./app-6d9f305e.js";import he from"./button-8a7fdb21.js";import F from"./icons-c5a046aa.js";import{L as $e}from"./Layout-2cfd6595.js";import{r as O}from"./util-f704b04e.js";import{i as ke}from"./link-7d7fab16.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";function le(s,l,e){const t=s.slice();return t[16]=l[e],t}function ne(s){let l,e,t,i,_,j;return e=new F({props:{icon:"check",className:`${s[1]?"stroke-green-700":"stroke-gray-300"}`}}),{c(){l=f("button"),A(e.$$.fragment),a(l,"class",t=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${s[1]?"border-green-700":"border-gray-300"} rounded-lg`)},m(o,g){H(o,l,g),E(e,l,null),i=!0,_||(j=oe(l,"click",s[7]),_=!0)},p(o,g){const h={};g&2&&(h.className=`${o[1]?"stroke-green-700":"stroke-gray-300"}`),e.$set(h),(!i||g&2&&t!==(t=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${o[1]?"border-green-700":"border-gray-300"} rounded-lg`))&&a(l,"class",t)},i(o){i||(C(e.$$.fragment,o),i=!0)},o(o){I(e.$$.fragment,o),i=!1},d(o){o&&P(l),D(e),_=!1,j()}}}function re(s){let l,e,t,i,_,j,o,g,h=s[16].class_name+"",d,k,y,x,w,S,T;t=new F({props:{icon:"check",className:`${s[3](s[16].class_code)?"stroke-green-700":"stroke-gray-300"}`}});function q(){return s[10](s[16])}return{c(){l=f("div"),e=f("button"),A(t.$$.fragment),_=B(),j=f("div"),o=f("button"),g=f("span"),d=ae(h),x=B(),a(e,"class",i=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${s[3](s[16].class_code)?"border-green-700":"border-gray-300"} rounded-lg`),a(g,"class",k=`${s[3](s[16].class_code)?"text-green-700":"text-gray-400"}`),a(o,"type","button"),a(o,"class",y=`flex p-3 border-2 ${s[3](s[16].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`),a(j,"class","w-full"),a(l,"class","flex space-x-2 items-center w-full")},m($,c){H($,l,c),r(l,e),E(t,e,null),r(l,_),r(l,j),r(j,o),r(o,g),r(g,d),r(l,x),w=!0,S||(T=oe(e,"click",q),S=!0)},p($,c){s=$;const m={};c&9&&(m.className=`${s[3](s[16].class_code)?"stroke-green-700":"stroke-gray-300"}`),t.$set(m),(!w||c&9&&i!==(i=`flex items-center shrink-0 justify-center h-12 w-12 border-2 ${s[3](s[16].class_code)?"border-green-700":"border-gray-300"} rounded-lg`))&&a(e,"class",i),(!w||c&1)&&h!==(h=s[16].class_name+"")&&_e(d,h),(!w||c&9&&k!==(k=`${s[3](s[16].class_code)?"text-green-700":"text-gray-400"}`))&&a(g,"class",k),(!w||c&9&&y!==(y=`flex p-3 border-2 ${s[3](s[16].class_code)?"border-green-700":"border-gray-300"}  w-full rounded-lg items-center justify-between space-x-2`))&&a(o,"class",y)},i($){w||(C(t.$$.fragment,$),w=!0)},o($){I(t.$$.fragment,$),w=!1},d($){$&&P(l),D(t),S=!1,T()}}}function we(s){let l,e,t,i,_,j,o,g,h,d,k,y,x,w,S,T,q,$,c,m,G,R,M,U,N,V,J,W,X,z,K,Y;t=new F({props:{icon:"chart",className:"h-5 w-5"}}),o=new F({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-800"}});let p=s[0].length>0&&ne(s),L=ee(s[0]),u=[];for(let n=0;n<L.length;n+=1)u[n]=re(le(s,L,n));const ce=n=>I(u[n],1,1,()=>{u[n]=null});return N=new he({props:{disabled:s[2],buttonText:"Update"}}),N.$on("click",s[8]),{c(){l=f("div"),e=f("div"),A(t.$$.fragment),i=B(),_=f("span"),_.textContent="Question Bank",j=B(),A(o.$$.fragment),g=B(),h=f("span"),h.textContent=`${s[4]}`,d=B(),k=f("div"),y=f("div"),x=f("div"),w=f("div"),w.innerHTML='<div><div class="text-lg font-semibold min-w-max text-gray-700">Edit Question Bank</div> <div class="text-gray-400 text-sm">Please select relevant details below</div></div>',S=B(),T=f("div"),q=f("div"),$=f("span"),$.textContent="Select Levels",c=B(),m=f("div"),p&&p.c(),G=B();for(let n=0;n<u.length;n+=1)u[n].c();R=B(),M=f("div"),U=f("div"),A(N.$$.fragment),V=B(),J=f("div"),W=f("a"),X=ae("Sections"),a(_,"class","mx-2 text-sm font-medium text-gray-700"),a(h,"class","text-sm font-medium text-gray-700"),a(e,"class","flex space-x-3 items-center py-4 px-8"),a(l,"class","mt-20 flex items-center justify-between border-b bg-white"),a(w,"class","flex items-center justify-between my-2 border-b pb-8"),a($,"class","flex-shrink-0 w-[18rem] text-gray-700 font-semibold"),a(m,"class","w-full space-y-2"),a(q,"class","flex w-full text-sm max-w-4xl"),a(T,"class","mt-12 space-y-6 w-full"),a(U,"class","w-40"),a(W,"class","border-2 border-blue-600 p-2.5 text-blue-600 rounded-lg"),a(W,"href",`/assessments/question_bank/sections/${s[5]}`),a(M,"class","flex w-full mt-10 justify-end space-x-4 items-center"),a(x,"class","border bg-white p-8 rounded-lg max-w-8xl"),a(y,"class","container max-w-4xl my-12 space-x-10"),a(k,"class","w-full mx-auto h-full")},m(n,b){H(n,l,b),r(l,e),E(t,e,null),r(e,i),r(e,_),r(e,j),E(o,e,null),r(e,g),r(e,h),H(n,d,b),H(n,k,b),r(k,y),r(y,x),r(x,w),r(x,S),r(x,T),r(T,q),r(q,$),r(q,c),r(q,m),p&&p.m(m,null),r(m,G);for(let Q=0;Q<u.length;Q+=1)u[Q]&&u[Q].m(m,null);r(x,R),r(x,M),r(M,U),E(N,U,null),r(M,V),r(M,J),r(J,W),r(W,X),z=!0,K||(Y=pe(ke.call(null,W)),K=!0)},p(n,b){if(n[0].length>0?p?(p.p(n,b),b&1&&C(p,1)):(p=ne(n),p.c(),C(p,1),p.m(m,G)):p&&(se(),I(p,1,1,()=>{p=null}),te()),b&73){L=ee(n[0]);let v;for(v=0;v<L.length;v+=1){const Z=le(n,L,v);u[v]?(u[v].p(Z,b),C(u[v],1)):(u[v]=re(Z),u[v].c(),C(u[v],1),u[v].m(m,null))}for(se(),v=L.length;v<u.length;v+=1)ce(v);te()}const Q={};b&4&&(Q.disabled=n[2]),N.$set(Q)},i(n){if(!z){C(t.$$.fragment,n),C(o.$$.fragment,n),C(p);for(let b=0;b<L.length;b+=1)C(u[b]);C(N.$$.fragment,n),z=!0}},o(n){I(t.$$.fragment,n),I(o.$$.fragment,n),I(p),u=u.filter(Boolean);for(let b=0;b<u.length;b+=1)I(u[b]);I(N.$$.fragment,n),z=!1},d(n){n&&(P(l),P(d),P(k)),D(t),D(o),p&&p.d(),ge(u,n),D(N),K=!1,Y()}}}function ve(s){let l,e;return l=new $e({props:{$$slots:{default:[we]},$$scope:{ctx:s}}}),{c(){A(l.$$.fragment)},m(t,i){E(l,t,i),e=!0},p(t,[i]){const _={};i&524303&&(_.$$scope={dirty:i,ctx:t}),l.$set(_)},i(t){e||(C(l.$$.fragment,t),e=!0)},o(t){I(l.$$.fragment,t),e=!1},d(t){D(l,t)}}}function ye(s,l,e){let t,i;de(s,be,c=>e(11,i=c));let _=i.props.assessmentTitle,j=i.props.assessmentId,o=i.props.subjectId,g=i.props.questionBankId,h=[],d=[],k=!1,y=!1;me(()=>{x(),w()});const x=()=>{O.getWithToken(`/api/question-bank-classes/${j}/${o}`,{onSuccess:c=>{e(0,h=c.data)}})},w=()=>{O.getWithToken(`/api/question-bank/classes/${g}`,{onSuccess:c=>{e(9,d=c.data)}})},S=c=>{if(t(c.class_code)){e(9,d=d.filter(m=>m.class_code!=c.class_code));return}d.push(c),e(9,d)},T=()=>{k?(e(1,k=!1),e(9,d=[])):(e(1,k=!0),e(9,d=h))},q=()=>{e(2,y=!0);let c=d.flatMap(m=>[m.class_code]);O.postWithToken("/api/question-bank-update",{questionBankId:g,classes:c},{onSuccess:m=>{e(2,y=!1)}})},$=c=>S(c);return s.$$.update=()=>{s.$$.dirty&512&&e(3,t=c=>d.some(m=>m.class_code==c))},[h,k,y,t,_,g,S,T,q,d,$]}class Ne extends ie{constructor(l){super(),ue(this,l,ye,ve,fe,{})}}export{Ne as default};
