import{S as le,i as ne,s as ae,c as F,m as L,t as N,a as C,d as R,o as oe,f as h,g as w,h as p,j,k as c,l as I,Q as re,w as J,x as ce,y as ie,B as ue,D as se,n as W,q as H,r as K,v as fe}from"./app-6d9f305e.js";import pe from"./data_table-2f3c9d25.js";import de from"./dropdown-c4477011.js";import me from"./layout-f16eab42.js";import O from"./button-8a7fdb21.js";import X from"./select-5f1b2e78.js";import{i as P}from"./link-7d7fab16.js";import{r as G}from"./util-f704b04e.js";import"./input-694295df.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";import"./index-000d58f7.js";import"./icons-c5a046aa.js";function Y(r,e,l){const s=r.slice();return s[14]=e[l],s[16]=l,s}function Z(r,e,l){const s=r.slice();return s[17]=e[l],s}function ee(r){let e,l=r[17]+"",s;return{c(){e=h("span"),s=W(l)},m(t,u){j(t,e,u),c(e,s)},p(t,u){u&4&&l!==(l=t[17]+"")&&H(s,l)},d(t){t&&I(e)}}}function ge(r){let e,l,s,t,u,a,i,n,m,q,$,b,x,_,B;return{c(){e=h("a"),l=W("View Questions"),t=w(),u=h("a"),a=W("Edit Sections"),n=w(),m=h("a"),q=W("Edit Classes"),b=w(),x=h("button"),x.textContent="Delete",p(e,"href",s=`/teacher/questions/${r[14].questionBankId}`),p(e,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),p(u,"href",i=`/teacher/create-question-bank/sections/${r[14].questionBankId}`),p(u,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),p(m,"href",$=`/teacher/create-question-bank/classes/${r[14].questionBankId}`),p(m,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left"),p(x,"class","hover:bg-gray-100 p-3 text-sm rounded transition text-left")},m(o,g){j(o,e,g),c(e,l),j(o,t,g),j(o,u,g),c(u,a),j(o,n,g),j(o,m,g),c(m,q),j(o,b,g),j(o,x,g),_||(B=[K(P.call(null,e)),K(P.call(null,u)),K(P.call(null,m))],_=!0)},p(o,g){g&4&&s!==(s=`/teacher/questions/${o[14].questionBankId}`)&&p(e,"href",s),g&4&&i!==(i=`/teacher/create-question-bank/sections/${o[14].questionBankId}`)&&p(u,"href",i),g&4&&$!==($=`/teacher/create-question-bank/classes/${o[14].questionBankId}`)&&p(m,"href",$)},d(o){o&&(I(e),I(t),I(u),I(n),I(m),I(b),I(x)),_=!1,fe(B)}}}function te(r){let e,l,s,t,u=r[14].subject+"",a,i,n,m=r[14].totalQuestions+"",q,$,b,x,_=r[14].totalSections+"",B,o,g,v,E,Q,D,f,y,z,T,A=J(r[14].classes),k=[];for(let d=0;d<A.length;d+=1)k[d]=ee(Z(r,A,d));return y=new de({props:{arrowColor:"fill-gray-600",placeholder:"Actions",className:"bg-white border  border-gray-300 text-gray-600",$$slots:{default:[ge]},$$scope:{ctx:r}}}),{c(){e=h("tr"),l=h("td"),l.textContent=`${r[16]+1}`,s=w(),t=h("td"),a=W(u),i=w(),n=h("td"),q=W(m),$=W(" Questions"),b=w(),x=h("td"),B=W(_),o=W(" Sections"),g=w(),v=h("td"),E=h("div");for(let d=0;d<k.length;d+=1)k[d].c();Q=w(),D=h("td"),f=h("div"),F(y.$$.fragment),z=w(),p(l,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),p(t,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),p(n,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),p(x,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),p(E,"class","flex flex-col h-full"),p(v,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),p(f,"class","w-40"),p(D,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap")},m(d,M){j(d,e,M),c(e,l),c(e,s),c(e,t),c(t,a),c(e,i),c(e,n),c(n,q),c(n,$),c(e,b),c(e,x),c(x,B),c(x,o),c(e,g),c(e,v),c(v,E);for(let V=0;V<k.length;V+=1)k[V]&&k[V].m(E,null);c(e,Q),c(e,D),c(D,f),L(y,f,null),c(e,z),T=!0},p(d,M){if((!T||M&4)&&u!==(u=d[14].subject+"")&&H(a,u),(!T||M&4)&&m!==(m=d[14].totalQuestions+"")&&H(q,m),(!T||M&4)&&_!==(_=d[14].totalSections+"")&&H(B,_),M&4){A=J(d[14].classes);let S;for(S=0;S<A.length;S+=1){const U=Z(d,A,S);k[S]?k[S].p(U,M):(k[S]=ee(U),k[S].c(),k[S].m(E,null))}for(;S<k.length;S+=1)k[S].d(1);k.length=A.length}const V={};M&1048580&&(V.$$scope={dirty:M,ctx:d}),y.$set(V)},i(d){T||(N(y.$$.fragment,d),T=!0)},o(d){C(y.$$.fragment,d),T=!1},d(d){d&&I(e),se(k,d),R(y)}}}function he(r){let e,l,s=J(r[2]),t=[];for(let a=0;a<s.length;a+=1)t[a]=te(Y(r,s,a));const u=a=>C(t[a],1,1,()=>{t[a]=null});return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=ce()},m(a,i){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(a,i);j(a,e,i),l=!0},p(a,i){if(i&4){s=J(a[2]);let n;for(n=0;n<s.length;n+=1){const m=Y(a,s,n);t[n]?(t[n].p(m,i),N(t[n],1)):(t[n]=te(m),t[n].c(),N(t[n],1),t[n].m(e.parentNode,e))}for(ie(),n=s.length;n<t.length;n+=1)u(n);ue()}},i(a){if(!l){for(let i=0;i<s.length;i+=1)N(t[i]);l=!0}},o(a){t=t.filter(Boolean);for(let i=0;i<t.length;i+=1)C(t[i]);l=!1},d(a){a&&I(e),se(t,a)}}}function $e(r){let e,l,s,t,u,a,i,n,m,q,$,b,x,_,B,o,g,v,E,Q,D;return a=new O({props:{buttonText:"New Question Bank",className:"max-w-min min-w-max bg-green-600 focus:outline-none hover:bg-green-700 focus:bg-green-600 focus:ring-green-200"}}),a.$on("click",r[6]),b=new X({props:{options:r[0],optionsStyling:"text-sm text-gray-800",placeholder:"Select Subject",className:"w-full text-sm text-gray-400 py-2.5"}}),b.$on("selected",r[8]),b.$on("deselected",r[9]),_=new X({props:{options:r[1],optionsStyling:"text-sm text-gray-800",placeholder:"Select Assessment",className:"w-full text-sm text-gray-400 py-2.5"}}),_.$on("selected",r[10]),_.$on("deselected",r[11]),o=new O({props:{buttonText:"Search",className:"w-40 text-sm py-3"}}),o.$on("click",r[7]),v=new O({props:{buttonText:"Reset",className:"w-40 text-sm py-3"}}),v.$on("click",r[12]),Q=new pe({props:{headings:r[5],$$slots:{default:[he]},$$scope:{ctx:r}}}),{c(){e=h("div"),l=h("div"),s=h("div"),t=h("h3"),t.textContent="Question Bank",u=w(),F(a.$$.fragment),i=w(),n=h("div"),m=h("span"),m.textContent="Filters",q=w(),$=h("div"),F(b.$$.fragment),x=w(),F(_.$$.fragment),B=w(),F(o.$$.fragment),g=w(),F(v.$$.fragment),E=w(),F(Q.$$.fragment),p(t,"class","text-lg font-semibold"),p(s,"class","flex justify-between"),p(m,"class","text-base text-gray-700 font-semibold"),p($,"class","flex items-center mt-3 space-x-3 w-full"),p(n,"class","flex flex-col border border-gray-300 rounded-lg w-full h-full bg-white mt-8 pt-4 pb-8 px-4"),p(l,"class","my-28"),p(e,"class","container")},m(f,y){j(f,e,y),c(e,l),c(l,s),c(s,t),c(s,u),L(a,s,null),c(l,i),c(l,n),c(n,m),c(n,q),c(n,$),L(b,$,null),c($,x),L(_,$,null),c($,B),L(o,$,null),c($,g),L(v,$,null),c(l,E),L(Q,l,null),D=!0},p(f,y){const z={};y&1&&(z.options=f[0]),b.$set(z);const T={};y&2&&(T.options=f[1]),_.$set(T);const A={};y&1048580&&(A.$$scope={dirty:y,ctx:f}),Q.$set(A)},i(f){D||(N(a.$$.fragment,f),N(b.$$.fragment,f),N(_.$$.fragment,f),N(o.$$.fragment,f),N(v.$$.fragment,f),N(Q.$$.fragment,f),D=!0)},o(f){C(a.$$.fragment,f),C(b.$$.fragment,f),C(_.$$.fragment,f),C(o.$$.fragment,f),C(v.$$.fragment,f),C(Q.$$.fragment,f),D=!1},d(f){f&&I(e),R(a),R(b),R(_),R(o),R(v),R(Q)}}}function _e(r){let e,l;return e=new me({props:{$$slots:{default:[$e]},$$scope:{ctx:r}}}),{c(){F(e.$$.fragment)},m(s,t){L(e,s,t),l=!0},p(s,[t]){const u={};t&1048607&&(u.$$scope={dirty:t,ctx:s}),e.$set(u)},i(s){l||(N(e.$$.fragment,s),l=!0)},o(s){C(e.$$.fragment,s),l=!1},d(s){R(e,s)}}}function be(r,e,l){let s=["S|N","Subject","Total Questions","Total Sections","Classes","Action"],t=[],u=[],a=[],i,n;oe(()=>{G.getWithToken("/api/get-subjects/",{onSuccess:o=>{l(0,t=o.data.flatMap(g=>[{placeholder:g.subjectName,value:g.subjectId}]))}}),G.getWithToken("/api/published-assessments",{onSuccess:o=>{l(1,u=o.data.flatMap(g=>[{placeholder:g.title,value:g.assessmentId}]))}})});const m=()=>{G.navigateTo("/teacher/create-question-bank")},q=()=>{G.getWithToken(`/api/question-banks?assessmentId=${i}&subjectId=${n}`,{onSuccess:o=>{l(2,a=o.data)}})},$=o=>l(4,n=o.detail.value),b=o=>l(4,n=null),x=o=>l(3,i=o.detail.value),_=o=>l(3,i=null);function B(o){re.call(this,r,o)}return[t,u,a,i,n,s,m,q,$,b,x,_,B]}class Ce extends le{constructor(e){super(),ne(this,e,be,_e,ae,{})}}export{Ce as default};
