import{S as Z,i as $,s as ee,f as _,c as O,g as I,n as te,h as b,j as x,k as w,m as E,C as W,q as se,a as C,B as X,t as A,l as B,d as U,o as ne,F as le,y as Y,w as K,x as oe,D as ie,u as H}from"./app-6d9f305e.js";import re from"./QuestionCard-23157eeb.js";import ce from"./button-8a7fdb21.js";import P from"./select-5f1b2e78.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";import"./icons-c5a046aa.js";function R(l,o,s){const i=l.slice();return i[22]=o[s],i[24]=s,i}function ae(l){let o,s,i=K(l[4]),e=[];for(let t=0;t<i.length;t+=1)e[t]=V(R(l,i,t));const u=t=>C(e[t],1,1,()=>{e[t]=null});return{c(){for(let t=0;t<e.length;t+=1)e[t].c();o=oe()},m(t,r){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(t,r);x(t,o,r),s=!0},p(t,r){if(r&3856){i=K(t[4]);let c;for(c=0;c<i.length;c+=1){const d=R(t,i,c);e[c]?(e[c].p(d,r),A(e[c],1)):(e[c]=V(d),e[c].c(),A(e[c],1),e[c].m(o.parentNode,o))}for(Y(),c=i.length;c<e.length;c+=1)u(c);X()}},i(t){if(!s){for(let r=0;r<i.length;r+=1)A(e[r]);s=!0}},o(t){e=e.filter(Boolean);for(let r=0;r<e.length;r+=1)C(e[r]);s=!1},d(t){t&&B(o),ie(e,t)}}}function ue(l){let o;return{c(){o=_("div"),o.innerHTML='<div class="flex items-center text-center rounded-lg h-full dark:border-gray-700"><div class="flex flex-col w-full max-w-sm px-4 mx-auto"><div class="p-3 mx-auto text-blue-500 bg-blue-100 rounded-full dark:bg-gray-800"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></div> <h1 class="mt-3 text-lg text-gray-800 dark:text-white">No questions found</h1> <p class="mt-2 text-gray-500 dark:text-gray-400">There aren&#39;t any available questions.</p></div></div>',b(o,"class","container h-[30rem]")},m(s,i){x(s,o,i)},p:H,i:H,o:H,d(s){s&&B(o)}}}function de(l){let o,s,i,e,u,t,r;function c(){return l[19](l[22])}return{c(){o=_("div"),s=_("button"),s.textContent="Edit",i=I(),e=_("button"),e.textContent="Delete",u=I(),b(s,"class","px-4 py-2.5 bg-gray-200 text-gray-700 rounded-lg text-xs"),b(e,"class","px-4 py-2.5 bg-red-500 text-red-50 rounded-lg text-xs"),b(o,"class","flex space-x-2 pt-5")},m(d,y){x(d,o,y),w(o,s),w(o,i),w(o,e),x(d,u,y),t||(r=W(s,"click",c),t=!0)},p(d,y){l=d},d(d){d&&(B(o),B(u)),t=!1,r()}}}function V(l){let o,s;return o=new re({props:{showCheckBox:!0,hasBeenAssigned:l[22].isAssigned,sectionTitle:l[22].sectionTitle,questionId:l[22].questionId,question:l[22].question,questionOptions:l[22].options,correctAnswer:l[22].correctAnswer,questionNumber:l[24]+1,questionScore:l[22].questionScore,checked:l[8](l[22].questionId),showOptions:l[22].questionType!="theory",$$slots:{default:[de]},$$scope:{ctx:l}}}),o.$on("checked",l[20]),o.$on("unchecked",l[21]),{c(){O(o.$$.fragment)},m(i,e){E(o,i,e),s=!0},p(i,e){const u={};e&16&&(u.hasBeenAssigned=i[22].isAssigned),e&16&&(u.sectionTitle=i[22].sectionTitle),e&16&&(u.questionId=i[22].questionId),e&16&&(u.question=i[22].question),e&16&&(u.questionOptions=i[22].options),e&16&&(u.correctAnswer=i[22].correctAnswer),e&16&&(u.questionScore=i[22].questionScore),e&272&&(u.checked=i[8](i[22].questionId)),e&16&&(u.showOptions=i[22].questionType!="theory"),e&33554448&&(u.$$scope={dirty:e,ctx:i}),o.$set(u)},i(i){s||(A(o.$$.fragment,i),s=!0)},o(i){C(o.$$.fragment,i),s=!1},d(i){U(o,i)}}}function fe(l){let o,s,i,e,u,t,r,c,d,y,k,h,p=l[6]?"Uncheck All":"Check All",T,N,v,z,S,f,g,Q,j,D;e=new P({props:{options:l[3],placeholder:"Select Question Bank",className:"text-sm py-1.5",optionsStyling:"",placeholderStyling:""}}),e.$on("selected",l[15]),e.$on("deselected",l[16]),d=new P({props:{options:l[2],placeholder:"All Sections",className:"text-sm py-1.5 z-50"}}),d.$on("selected",l[17]),d.$on("deselected",l[18]),v=new ce({props:{disabled:l[1],buttonText:"Add To Question Bank",className:"text-xs"}}),v.$on("click",l[13]);const M=[ue,ae],n=[];function q(a,m){return a[4].length===0?0:1}return f=q(l),g=n[f]=M[f](l),{c(){o=_("div"),s=_("div"),i=_("div"),O(e.$$.fragment),u=I(),t=_("div"),r=_("div"),c=_("div"),O(d.$$.fragment),y=I(),k=_("div"),h=_("button"),T=te(p),N=I(),O(v.$$.fragment),z=I(),S=_("div"),g.c(),b(i,"class","flex space-x-3 items-center w-full"),b(s,"class","flex space-x-8 items-center h-full justify-between"),b(o,"class","fixed inset-y-0 px-8 z-50 w-[36rem] h-16 border-b border-r bg-white shrink-0 mt-[12rem]"),b(c,"class","flex space-x-3 items-center w-full"),h.disabled=l[7],b(h,"class","p-2 text-xs rounded-lg border-2 min-w-max max-w-min border-gray-600 text-gray-600 font-semibold disabled:border-gray-400 disabled:text-gray-400"),b(k,"class","flex space-x-2 text-sm"),b(r,"class","flex space-x-4 items-center h-full justify-between"),b(t,"class","fixed inset-y-0 px-8 z-40 w-[36rem] h-16 border-b border-r bg-white shrink-0 mt-[16rem]"),b(S,"class","fixed w-[36rem] flex flex-col z-30 mt-16 h-[calc(100vh-20rem)] items-center bottom-0 pb-20 border-r question overflow-x-hidden overflow-y-auto bg-white svelte-1et1clp")},m(a,m){x(a,o,m),w(o,s),w(s,i),E(e,i,null),x(a,u,m),x(a,t,m),w(t,r),w(r,c),E(d,c,null),w(r,y),w(r,k),w(k,h),w(h,T),w(k,N),E(v,k,null),x(a,z,m),x(a,S,m),n[f].m(S,null),Q=!0,j||(D=W(h,"click",l[12]),j=!0)},p(a,[m]){const L={};m&8&&(L.options=a[3]),e.$set(L);const G={};m&4&&(G.options=a[2]),d.$set(G),(!Q||m&64)&&p!==(p=a[6]?"Uncheck All":"Check All")&&se(T,p),(!Q||m&128)&&(h.disabled=a[7]);const J={};m&2&&(J.disabled=a[1]),v.$set(J);let F=f;f=q(a),f===F?n[f].p(a,m):(Y(),C(n[F],1,1,()=>{n[F]=null}),X(),g=n[f],g?g.p(a,m):(g=n[f]=M[f](a),g.c()),A(g,1),g.m(S,null))},i(a){Q||(A(e.$$.fragment,a),A(d.$$.fragment,a),A(v.$$.fragment,a),A(g),Q=!0)},o(a){C(e.$$.fragment,a),C(d.$$.fragment,a),C(v.$$.fragment,a),C(g),Q=!1},d(a){a&&(B(o),B(u),B(t),B(z),B(S)),U(e),U(d),U(v),n[f].d(),j=!1,D()}}}function me(l,o,s){let i,e,{disabled:u=!1}=o,t=[],r=[],{questions:c=[]}=o,{sections:d=[]}=o,{assessmentQuestionBanks:y=[]}=o,k,h=!1;ne(()=>{s(4,r=c)});const p=le(),T=n=>{t.push(n),s(14,t),p("select-question",{questionId:n})},N=n=>{s(14,t=t.filter(q=>q!=n)),p("deselect-question",{questionId:n})},v=()=>{h?(p("check-all",{questions:t,checkedAll:h}),s(14,t=t.filter(n=>!r.some(q=>n===q.questionId)))):(r.flatMap(n=>[n.questionId]).forEach(n=>{t.some(q=>q===n)||t.push(n)}),s(14,t),p("check-all",{questions:t,checkedAll:h}))},z=()=>{s(1,u=!0),p("mass-assign",{selectedQuestions:t}),s(14,t=[])},S=n=>p("get-question-bank",{value:n.detail.value}),f=n=>{s(2,d=[]),s(0,c=[])},g=n=>s(5,k=n.detail.value),Q=n=>s(5,k=null),j=n=>p("edit",n),D=n=>T(n.detail.value),M=n=>N(n.detail.value);return l.$$set=n=>{"disabled"in n&&s(1,u=n.disabled),"questions"in n&&s(0,c=n.questions),"sections"in n&&s(2,d=n.sections),"assessmentQuestionBanks"in n&&s(3,y=n.assessmentQuestionBanks)},l.$$.update=()=>{l.$$.dirty&33&&(k?s(4,r=c.filter(n=>n.sectionId===k)):s(4,r=c)),l.$$.dirty&16400&&s(1,u=t.length===0||r.length===0),l.$$.dirty&16384&&s(8,i=n=>t.some(q=>n===q)),l.$$.dirty&16&&s(7,e=r.length===0),l.$$.dirty&16400&&s(6,h=r.filter(n=>t.some(q=>n.questionId===q)).length===r.length&&r.length!==0)},[c,u,d,y,r,k,h,e,i,p,T,N,v,z,t,S,f,g,Q,j,D,M]}class we extends Z{constructor(o){super(),$(this,o,me,fe,ee,{disabled:1,questions:0,sections:2,assessmentQuestionBanks:3})}}export{we as default};
