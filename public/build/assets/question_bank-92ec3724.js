import{S as ee,i as te,s as se,f as m,c as W,g as _,h as p,j as q,m as H,t as J,a as z,l as v,d as F,o as ae,w as N,x as le,D as Z,n as $,k as r,r as ne,q as E}from"./app-6d9f305e.js";import oe from"./select-5f1b2e78.js";import{i as re}from"./link-7d7fab16.js";import{r as G}from"./util-f704b04e.js";import ce from"./data_table-2f3c9d25.js";import"./icons-c5a046aa.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";import"./input-694295df.js";function K(n,e,l){const a=n.slice();return a[8]=e[l],a[10]=l,a}function P(n,e,l){const a=n.slice();return a[11]=e[l],a}function X(n){let e,l=n[11]+"",a;return{c(){e=m("p"),a=$(l)},m(s,o){q(s,e,o),r(e,a)},p(s,o){o&2&&l!==(l=s[11]+"")&&E(a,l)},d(s){s&&v(e)}}}function Y(n){let e,l,a,s,o,t,i=n[8].subject+"",h,b,k,d=n[8].totalQuestions+"",y,B,M,S,O,j,T=n[8].teacher+"",Q,U,I,x,A,C,D,L,R,w=N(n[8].classes),f=[];for(let c=0;c<w.length;c+=1)f[c]=X(P(n,w,c));return{c(){e=m("tr"),l=m("td"),l.innerHTML='<div class="flex items-center"><input id="checkbox-table-search-1" type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"/> <label for="checkbox-table-search-1" class="sr-only">checkbox</label></div>',a=_(),s=m("td"),s.textContent=`${n[10]+1}`,o=_(),t=m("th"),h=$(i),b=_(),k=m("td"),y=$(d),B=$(" Questions"),M=_(),S=m("td");for(let c=0;c<f.length;c+=1)f[c].c();O=_(),j=m("td"),Q=$(T),U=_(),I=m("td"),x=m("a"),A=$("View Questions"),D=_(),p(l,"class","w-4 p-4"),p(s,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),p(t,"scope","row"),p(t,"class","px-4 py-4 text-xs text-gray-600 dark:text-gray-300"),p(k,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),p(S,"class","px-4 py-4 text-xs text-gray-600 dark:text-gray-300 whitespace-nowrap"),p(j,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300"),p(x,"href",C=`/assessment/questions/question-bank/${n[8].questionBankId}`),p(x,"class","text-white bg-gray-800 rounded-lg text-sm p-2.5"),p(I,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),p(e,"class","border-b")},m(c,g){q(c,e,g),r(e,l),r(e,a),r(e,s),r(e,o),r(e,t),r(t,h),r(e,b),r(e,k),r(k,y),r(k,B),r(e,M),r(e,S);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(S,null);r(e,O),r(e,j),r(j,Q),r(e,U),r(e,I),r(I,x),r(x,A),r(e,D),L||(R=ne(re.call(null,x)),L=!0)},p(c,g){if(g&2&&i!==(i=c[8].subject+"")&&E(h,i),g&2&&d!==(d=c[8].totalQuestions+"")&&E(y,d),g&2){w=N(c[8].classes);let u;for(u=0;u<w.length;u+=1){const V=P(c,w,u);f[u]?f[u].p(V,g):(f[u]=X(V),f[u].c(),f[u].m(S,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=w.length}g&2&&T!==(T=c[8].teacher+"")&&E(Q,T),g&2&&C!==(C=`/assessment/questions/question-bank/${c[8].questionBankId}`)&&p(x,"href",C)},d(c){c&&v(e),Z(f,c),L=!1,R()}}}function ie(n){let e,l=N(n[1]),a=[];for(let s=0;s<l.length;s+=1)a[s]=Y(K(n,l,s));return{c(){for(let s=0;s<a.length;s+=1)a[s].c();e=le()},m(s,o){for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(s,o);q(s,e,o)},p(s,o){if(o&2){l=N(s[1]);let t;for(t=0;t<l.length;t+=1){const i=K(s,l,t);a[t]?a[t].p(i,o):(a[t]=Y(i),a[t].c(),a[t].m(e.parentNode,e))}for(;t<a.length;t+=1)a[t].d(1);a.length=l.length}},d(s){s&&v(e),Z(a,s)}}}function ue(n){let e,l,a,s,o;return l=new oe({props:{options:n[2],placeholder:"Select Subject",className:"text-sm"}}),l.$on("selected",n[5]),l.$on("deselected",n[6]),s=new ce({props:{headings:n[3],$$slots:{default:[ie]},$$scope:{ctx:n}}}),{c(){e=m("div"),W(l.$$.fragment),a=_(),W(s.$$.fragment),p(e,"class","w-60 mt-12 mb-6")},m(t,i){q(t,e,i),H(l,e,null),q(t,a,i),H(s,t,i),o=!0},p(t,[i]){const h={};i&4&&(h.options=t[2]),l.$set(h);const b={};i&16386&&(b.$$scope={dirty:i,ctx:t}),s.$set(b)},i(t){o||(J(l.$$.fragment,t),J(s.$$.fragment,t),o=!0)},o(t){z(l.$$.fragment,t),z(s.$$.fragment,t),o=!1},d(t){t&&(v(e),v(a)),F(l),F(s,t)}}}function fe(n,e,l){let{assessmentId:a}=e,s,o=[],t=[],i=["SN","SUBJECT","TOTAL QUESTIONS","LEVELS","LECTURER","ACTIONS"];ae(()=>{G.getWithToken("/api/assessment/question-banks/"+a,{onSuccess:d=>{l(1,o=d.data),console.log(o)}}),h()});const h=()=>{G.getWithToken("/api/question-bank-subjects/"+a,{onSuccess:d=>{l(2,t=d.data.flatMap(y=>[{placeholder:y.subjectName,value:y.subjectCode}]))}})},b=d=>l(0,s=d.detail.value),k=d=>l(0,s=null);return n.$$set=d=>{"assessmentId"in d&&l(4,a=d.assessmentId)},[s,o,t,i,a,b,k]}class ye extends ee{constructor(e){super(),te(this,e,fe,ue,se,{assessmentId:4})}}export{ye as default};
