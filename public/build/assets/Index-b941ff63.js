import{S as Y,i as Z,s as ee,c as A,m as D,t as C,a as E,d as L,o as te,f as $,g as y,h as _,j,k as u,l as q,w as U,y as R,B as V,D as se,x as ne,z as re,A as oe,u as le,n as G,q as J}from"./app-6d9f305e.js";import B from"./button-8a7fdb21.js";import ae from"./data_table-2f3c9d25.js";import ie from"./input-694295df.js";import ce from"./slide_panel-2bd9836d.js";import{L as ue,t as fe}from"./Layout-2cfd6595.js";import{r as F}from"./util-f704b04e.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";import"./utils-27538abd.js";import"./index-000d58f7.js";import"./link-7d7fab16.js";import"./icons-c5a046aa.js";function K(a,e,t){const s=a.slice();return s[0]=e[t],s[24]=t,s}function O(a,e,t){const s=a.slice();return s[20]=e[t],s}function P(a,e){let t,s,n,l,c=e[24]+1+"",r,o,d,f=e[0].session+"",p,h,x,S=e[0].session+"",b,M,w,v,i,T,k,m,g,H,I;function W(){return e[12](e[0])}i=new B({props:{buttonText:"Session Details",className:"text-sm bg-white text-gray-800 focus:bg-transparent focus:ring-gray-50 hover:bg-transparent border-2 border-gray-800"}}),i.$on("click",W);function X(){return e[13](e[0])}return k=new B({props:{buttonText:"Edit",className:"text-xs min-w-max max-w-min"}}),k.$on("click",X),g=new B({props:{buttonText:"Delete",className:"text-xs min-w-max max-w-min bg-red-500 hover:bg-red-400 focus:bg-red-500 focus:ring focus:ring-red-500 focus:ring-opacity-50"}}),g.$on("click",e[14]),{key:a,first:null,c(){t=$("tr"),s=$("td"),s.innerHTML='<div class="flex items-center"><input id="checkbox-table-search-1" type="checkbox" class="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"/> <label for="checkbox-table-search-1" class="sr-only">checkbox</label></div>',n=y(),l=$("th"),r=G(c),o=y(),d=$("td"),p=G(f),h=y(),x=$("td"),b=G(S),M=y(),w=$("td"),v=$("div"),A(i.$$.fragment),T=y(),A(k.$$.fragment),m=y(),A(g.$$.fragment),H=y(),_(s,"class","w-4 p-4"),_(l,"scope","row"),_(l,"class","px-4 py-4 text-gray-800 whitespace-nowrap dark:text-white"),_(d,"class","px-4 py-4 text-gray-800 whitespace-nowrap dark:text-white"),_(x,"class","px-4 py-4 text-gray-800 whitespace-nowrap dark:text-white"),_(v,"class","flex space-x-3"),_(w,"class","px-4 py-4 text-sm text-gray-800 dark:text-gray-300 whitespace-nowrap"),_(t,"class","bg-white border-b dark:bg-gray-800 dark:border-gray-700"),this.first=t},m(N,z){j(N,t,z),u(t,s),u(t,n),u(t,l),u(l,r),u(t,o),u(t,d),u(d,p),u(t,h),u(t,x),u(x,b),u(t,M),u(t,w),u(w,v),D(i,v,null),u(v,T),D(k,v,null),u(v,m),D(g,v,null),u(t,H),I=!0},p(N,z){e=N,(!I||z&2)&&c!==(c=e[24]+1+"")&&J(r,c),(!I||z&2)&&f!==(f=e[0].session+"")&&J(p,f),(!I||z&2)&&S!==(S=e[0].session+"")&&J(b,S)},i(N){I||(C(i.$$.fragment,N),C(k.$$.fragment,N),C(g.$$.fragment,N),I=!0)},o(N){E(i.$$.fragment,N),E(k.$$.fragment,N),E(g.$$.fragment,N),I=!1},d(N){N&&q(t),L(i),L(k),L(g)}}}function pe(a){let e=[],t=new Map,s,n,l=U(a[1]);const c=r=>r[0].id;for(let r=0;r<l.length;r+=1){let o=K(a,l,r),d=c(o);t.set(d,e[r]=P(d,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();s=ne()},m(r,o){for(let d=0;d<e.length;d+=1)e[d]&&e[d].m(r,o);j(r,s,o),n=!0},p(r,o){o&1026&&(l=U(r[1]),R(),e=re(e,o,c,1,r,l,t,s.parentNode,oe,P,s,K),V())},i(r){if(!n){for(let o=0;o<l.length;o+=1)C(e[o]);n=!0}},o(r){for(let o=0;o<e.length;o+=1)E(e[o]);n=!1},d(r){r&&q(s);for(let o=0;o<e.length;o+=1)e[o].d(r)}}}function de(a){let e,t,s,n,l,c,r,o,d;return l=new B({props:{buttonText:"New Session",className:"text-sm"}}),l.$on("click",a[7]),o=new ae({props:{headings:a[5],$$slots:{default:[pe]},$$scope:{ctx:a}}}),{c(){e=$("div"),t=$("div"),t.innerHTML='<span class="mx-2 text-xl font-bold text-gray-800">Sessions</span>',s=y(),n=$("div"),A(l.$$.fragment),c=y(),r=$("div"),A(o.$$.fragment),_(t,"class","flex space-x-3 items-center"),_(e,"class","flex items-center justify-between bg-white py-4 container border-b"),_(r,"class","container py-12")},m(f,p){j(f,e,p),u(e,t),u(e,s),u(e,n),D(l,n,null),j(f,c,p),j(f,r,p),D(o,r,null),d=!0},p(f,p){const h={};p&33554434&&(h.$$scope={dirty:p,ctx:f}),o.$set(h)},i(f){d||(C(l.$$.fragment,f),C(o.$$.fragment,f),d=!0)},o(f){E(l.$$.fragment,f),E(o.$$.fragment,f),d=!1},d(f){f&&(q(e),q(c),q(r)),L(l),L(o)}}}function Q(a){let e,t,s,n,l;return{c(){e=$("div"),t=$("input"),s=y(),n=$("span"),n.textContent=`${a[20]}`,l=y(),_(t,"type","checkbox"),_(t,"name",""),_(t,"id",""),_(n,"class","text-gray-700"),_(e,"class","pt-3 flex items-center space-x-2")},m(c,r){j(c,e,r),u(e,t),u(e,s),u(e,n),u(e,l)},p:le,d(c){c&&q(e)}}}function me(a){let e,t;return e=new B({props:{disabled:a[3],buttonText:"Save Session",className:"text-sm"}}),e.$on("click",a[8]),{c(){A(e.$$.fragment)},m(s,n){D(e,s,n),t=!0},p(s,n){const l={};n&8&&(l.disabled=s[3]),e.$set(l)},i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function ge(a){let e,t;return e=new B({props:{disabled:a[3],buttonText:"Update Session",className:"text-sm"}}),e.$on("click",a[9]),{c(){A(e.$$.fragment)},m(s,n){D(e,s,n),t=!0},p(s,n){const l={};n&8&&(l.disabled=s[3]),e.$set(l)},i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function _e(a){let e,t,s,n,l,c,r,o,d,f,p,h,x;n=new ie({props:{id:"title",value:a[0],label:"Enter Session Title",placeholder:"2022/2023"}}),n.$on("input",a[11]);let S=U(a[6]),b=[];for(let i=0;i<S.length;i+=1)b[i]=Q(O(a,S,i));const M=[ge,me],w=[];function v(i,T){return i[2]?0:1}return p=v(a),h=w[p]=M[p](a),{c(){e=$("div"),t=$("div"),s=$("div"),A(n.$$.fragment),l=y(),c=$("div"),r=$("label"),r.textContent="Select Academic Session Terms",o=y();for(let i=0;i<b.length;i+=1)b[i].c();d=y(),f=$("div"),h.c(),_(r,"for",""),_(r,"class","font-medium text-gray-700"),_(c,"class","pt-3"),_(f,"class","w-20"),_(t,"class","flex flex-col space-y-6 w-80 py-8"),_(e,"slot","panel")},m(i,T){j(i,e,T),u(e,t),u(t,s),D(n,s,null),u(t,l),u(t,c),u(c,r),u(c,o);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(c,null);u(t,d),u(t,f),w[p].m(f,null),x=!0},p(i,T){const k={};if(T&1&&(k.value=i[0]),n.$set(k),T&64){S=U(i[6]);let g;for(g=0;g<S.length;g+=1){const H=O(i,S,g);b[g]?b[g].p(H,T):(b[g]=Q(H),b[g].c(),b[g].m(c,null))}for(;g<b.length;g+=1)b[g].d(1);b.length=S.length}let m=p;p=v(i),p===m?w[p].p(i,T):(R(),E(w[m],1,1,()=>{w[m]=null}),V(),h=w[p],h?h.p(i,T):(h=w[p]=M[p](i),h.c()),C(h,1),h.m(f,null))},i(i){x||(C(n.$$.fragment,i),C(h),x=!0)},o(i){E(n.$$.fragment,i),E(h),x=!1},d(i){i&&q(e),L(n),se(b,i),w[p].d()}}}function he(a){let e,t;return e=new ce({props:{showSheet:a[4],title:a[2]?"Edit Session":"Create New Session",$$slots:{panel:[_e],default:[de]},$$scope:{ctx:a}}}),e.$on("onpanelstatus",a[15]),{c(){A(e.$$.fragment)},m(s,n){D(e,s,n),t=!0},p(s,n){const l={};n&16&&(l.showSheet=s[4]),n&4&&(l.title=s[2]?"Edit Session":"Create New Session"),n&33554447&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function be(a){let e,t;return e=new ue({props:{$$slots:{default:[he]},$$scope:{ctx:a}}}),{c(){A(e.$$.fragment)},m(s,n){D(e,s,n),t=!0},p(s,[n]){const l={};n&33554463&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(C(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){L(e,s)}}}function $e(a,e,t){let s=["SN","Session","Terms","Actions"],n=[],l=["First Term","Second Term","Third Term"],c="",r,o=!1;te(()=>{x()});let d=!1;const f=()=>{t(4,d=!1),h()},p=()=>t(4,d=!0),h=()=>{t(2,r=void 0),t(0,c=""),t(3,o=!1)},x=()=>{F.get("/api/sessions",{onSuccess:m=>{t(1,n=m.data)}})},S=()=>{t(3,o=!0),F.post("/api/session/create",{session:c},{onSuccess:m=>{x(),f(),h(),t(3,o=!1)},onError:m=>{t(3,o=!1)}})},b=()=>{t(3,o=!0),F.post(`/api/session/update/${r}`,{session:c},{onSuccess:m=>{x(),f(),h(),t(3,o=!1)},onError:m=>{t(3,o=!1)}})},M=(m,g)=>{t(2,r=m),t(0,c=g),p()},w=m=>t(0,c=m.detail.input),v=m=>F.navigateTo(`/academic-session/${m.id}`),i=m=>M(m.id,m.session),T=()=>fe("Success"),k=m=>t(4,d=m.detail.status);return a.$$.update=()=>{a.$$.dirty&1&&t(3,o=c.length===0)},[c,n,r,o,d,s,l,p,S,b,M,w,v,i,T,k]}class Me extends Y{constructor(e){super(),Z(this,e,$e,be,ee,{})}}export{Me as default};
