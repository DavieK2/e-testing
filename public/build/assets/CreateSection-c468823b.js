import{S as se,i as oe,s as le,c as B,m as I,t as T,a as k,d as A,b as re,o as ie,p as ae,f as m,g as v,h as y,j as J,k as r,l as O,y as te,B as ne,w as X,x as ce,D as ue,n as z,q as H}from"./app-6d9f305e.js";import pe from"./select-5f1b2e78.js";import Y from"./icons-c5a046aa.js";import{L as fe}from"./Layout-2cfd6595.js";import P from"./button-8a7fdb21.js";import me from"./table-b865601d.js";import de from"./slide_panel-2bd9836d.js";import G from"./input-694295df.js";import{r as M}from"./util-f704b04e.js";import"./utils-4fba9a6a.js";import"./tw-merge-0f2443f8.js";import"./link-7d7fab16.js";import"./utils-27538abd.js";import"./index-000d58f7.js";function Z(o,t,e){const n=o.slice();return n[31]=t[e],n[33]=e,n}function ee(o){let t,e,n,s,p=o[31].sectionTitle+"",c,u,i,h=o[31].sectionDescription+"",Q,a,W,w=(o[31].sectionTotalQuestions??0)+"",N,D,S,C=(o[31].sectionScore??0)+"",j,d,$,x,E,b,F,l;function q(){return o[24](o[31])}x=new P({props:{buttonText:"Edit",className:"text-xs bg-white text-blue-500 hover:bg-transparent border-2 border-blue-500 focus:bg-transparent focus:ring-transparent"}}),x.$on("click",q);function g(){return o[25](o[31])}return b=new P({props:{buttonText:"Delete",className:"text-xs bg-red-500 focus:ring-red-200 hover:bg-red-600 focus:bg-red-500"}}),b.$on("click",g),{c(){t=m("tr"),e=m("td"),e.textContent=`${o[33]+1}`,n=v(),s=m("th"),c=z(p),u=v(),i=m("td"),Q=z(h),a=v(),W=m("td"),N=z(w),D=v(),S=m("td"),j=z(C),d=v(),$=m("td"),B(x.$$.fragment),E=v(),B(b.$$.fragment),F=v(),y(e,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),y(s,"scope","row"),y(s,"class","py-4 text-sm text-gray-600 dark:text-gray-300 whitespace-nowrap"),y(i,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300"),y(W,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300"),y(S,"class","px-4 py-4 text-sm text-gray-600 dark:text-gray-300"),y($,"class","px-4 py-4 flex space-x-2 text-sm text-gray-500 dark:text-gray-300 whitespace-nowrap")},m(_,L){J(_,t,L),r(t,e),r(t,n),r(t,s),r(s,c),r(t,u),r(t,i),r(i,Q),r(t,a),r(t,W),r(W,N),r(t,D),r(t,S),r(S,j),r(t,d),r(t,$),I(x,$,null),r($,E),I(b,$,null),r(t,F),l=!0},p(_,L){o=_,(!l||L[0]&2)&&p!==(p=o[31].sectionTitle+"")&&H(c,p),(!l||L[0]&2)&&h!==(h=o[31].sectionDescription+"")&&H(Q,h),(!l||L[0]&2)&&w!==(w=(o[31].sectionTotalQuestions??0)+"")&&H(N,w),(!l||L[0]&2)&&C!==(C=(o[31].sectionScore??0)+"")&&H(j,C)},i(_){l||(T(x.$$.fragment,_),T(b.$$.fragment,_),l=!0)},o(_){k(x.$$.fragment,_),k(b.$$.fragment,_),l=!1},d(_){_&&O(t),A(x),A(b)}}}function ge(o){let t,e,n=X(o[1]),s=[];for(let c=0;c<n.length;c+=1)s[c]=ee(Z(o,n,c));const p=c=>k(s[c],1,1,()=>{s[c]=null});return{c(){for(let c=0;c<s.length;c+=1)s[c].c();t=ce()},m(c,u){for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(c,u);J(c,t,u),e=!0},p(c,u){if(u[0]&20482){n=X(c[1]);let i;for(i=0;i<n.length;i+=1){const h=Z(c,n,i);s[i]?(s[i].p(h,u),T(s[i],1)):(s[i]=ee(h),s[i].c(),T(s[i],1),s[i].m(t.parentNode,t))}for(te(),i=n.length;i<s.length;i+=1)p(i);ne()}},i(c){if(!e){for(let u=0;u<n.length;u+=1)T(s[u]);e=!0}},o(c){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)k(s[u]);e=!1},d(c){c&&O(t),ue(s,c)}}}function $e(o){let t,e,n,s,p,c,u,i,h,Q,a,W,w,N,D,S,C,j,d,$,x,E,b,F,l,q;return p=new Y({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-800"}}),h=new Y({props:{icon:"chevron_right",className:"h-4 w-4 fill-gray-800"}}),d=new P({props:{buttonText:"Add New Section",className:"max-w-min min-w-max text-sm font-medium bg-white text-gray-800 hover:bg-gray-50 border-2 border-gray-800 focus:bg-transparent focus:ring-transparent"}}),d.$on("click",o[23]),E=new me({props:{headings:o[8],$$slots:{default:[ge]},$$scope:{ctx:o}}}),l=new P({props:{buttonText:"Continue",className:"text-sm font-medium px-10"}}),l.$on("click",o[10]),{c(){t=m("div"),e=m("div"),n=m("span"),n.textContent="Question Bank",s=v(),B(p.$$.fragment),c=v(),u=m("span"),u.textContent=`${o[9]}`,i=v(),B(h.$$.fragment),Q=v(),a=m("span"),a.textContent="Sections",W=v(),w=m("div"),N=m("div"),D=m("div"),S=m("div"),C=m("div"),C.innerHTML='<div class="text-2xl font-extrabold min-w-max text-gray-700">Add Sections</div> <div class="text-gray-400 text-sm mt-3">Please add relevant sections below</div>',j=v(),B(d.$$.fragment),$=v(),x=m("div"),B(E.$$.fragment),b=v(),F=m("div"),B(l.$$.fragment),y(n,"class","text-gray-700"),y(u,"class","text-gray-700"),y(a,"class","text-gray-700"),y(e,"class","flex space-x-2 items-center text-sm font-bold"),y(t,"class","fixed flex items-center h-16 justify-between bg-white py-4 container border-b w-[calc(100vw-15rem)] z-50"),y(S,"class","flex items-center justify-between my-2 border-b pb-8"),y(x,"class","mt-12 space-y-6 w-full"),y(F,"class","flex w-full mt-10 justify-end"),y(D,"class","border bg-white p-8 rounded-lg max-w-8xl"),y(N,"class","container my-8"),y(w,"class","fixed container py-8 h-[calc(100vh-8rem)] w-[calc(100vw-15rem)] bottom-0 overflow-y-auto")},m(g,_){J(g,t,_),r(t,e),r(e,n),r(e,s),I(p,e,null),r(e,c),r(e,u),r(e,i),I(h,e,null),r(e,Q),r(e,a),J(g,W,_),J(g,w,_),r(w,N),r(N,D),r(D,S),r(S,C),r(S,j),I(d,S,null),r(D,$),r(D,x),I(E,x,null),r(D,b),r(D,F),I(l,F,null),q=!0},p(g,_){const L={};_[0]&2|_[1]&8&&(L.$$scope={dirty:_,ctx:g}),E.$set(L)},i(g){q||(T(p.$$.fragment,g),T(h.$$.fragment,g),T(d.$$.fragment,g),T(E.$$.fragment,g),T(l.$$.fragment,g),q=!0)},o(g){k(p.$$.fragment,g),k(h.$$.fragment,g),k(d.$$.fragment,g),k(E.$$.fragment,g),k(l.$$.fragment,g),q=!1},d(g){g&&(O(t),O(W),O(w)),A(p),A(h),A(d),A(E),A(l)}}}function _e(o){let t,e;return t=new P({props:{disabled:o[4],buttonText:"Add Section",className:"min-w-max max-w-min font-medium"}}),t.$on("click",o[11]),{c(){B(t.$$.fragment)},m(n,s){I(t,n,s),e=!0},p(n,s){const p={};s[0]&16&&(p.disabled=n[4]),t.$set(p)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){k(t.$$.fragment,n),e=!1},d(n){A(t,n)}}}function be(o){let t,e;return t=new P({props:{disabled:o[4],buttonText:"Update",className:"min-w-max max-w-min font-medium"}}),t.$on("click",o[13]),{c(){B(t.$$.fragment)},m(n,s){I(t,n,s),e=!0},p(n,s){const p={};s[0]&16&&(p.disabled=n[4]),t.$set(p)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){k(t.$$.fragment,n),e=!1},d(n){A(t,n)}}}function he(o){let t,e,n,s,p,c,u,i,h,Q,a,W,w,N,D,S,C,j,d,$,x;s=new G({props:{value:o[6].sectionTitle,label:"Enter Section Title",labelStyle:"font-semibold"}}),s.$on("input",o[17]),u=new pe({props:{value:o[6].questionType,options:o[2],className:"text-sm",optionsStyling:"text-sm",placeholder:"Select Question Type",label:"Select Question Type",labelStyle:"font-semibold"}}),u.$on("selected",o[18]),u.$on("deselected",o[19]),Q=new G({props:{value:o[6].sectionDescription,label:"Enter Section Description",labelStyle:"font-semibold"}}),Q.$on("input",o[20]),w=new G({props:{type:"number",value:o[6].sectionTotalQuestions,label:"Enter Total Questions",labelStyle:"font-semibold"}}),w.$on("input",o[21]),S=new G({props:{type:"number",value:o[6].sectionScore,label:"Enter Section Score",labelStyle:"font-semibold"}}),S.$on("input",o[22]);const E=[be,_e],b=[];function F(l,q){return l[3]==l[7].edit?0:1}return d=F(o),$=b[d]=E[d](o),{c(){t=m("div"),e=m("div"),n=m("div"),B(s.$$.fragment),p=v(),c=m("div"),B(u.$$.fragment),i=v(),h=m("div"),B(Q.$$.fragment),a=v(),W=m("div"),B(w.$$.fragment),N=v(),D=m("div"),B(S.$$.fragment),C=v(),j=m("div"),$.c(),y(j,"class","w-20"),y(e,"class","flex flex-col space-y-6"),y(t,"slot","panel")},m(l,q){J(l,t,q),r(t,e),r(e,n),I(s,n,null),r(e,p),r(e,c),I(u,c,null),r(e,i),r(e,h),I(Q,h,null),r(e,a),r(e,W),I(w,W,null),r(e,N),r(e,D),I(S,D,null),r(e,C),r(e,j),b[d].m(j,null),x=!0},p(l,q){const g={};q[0]&64&&(g.value=l[6].sectionTitle),s.$set(g);const _={};q[0]&64&&(_.value=l[6].questionType),q[0]&4&&(_.options=l[2]),u.$set(_);const L={};q[0]&64&&(L.value=l[6].sectionDescription),Q.$set(L);const K={};q[0]&64&&(K.value=l[6].sectionTotalQuestions),w.$set(K);const R={};q[0]&64&&(R.value=l[6].sectionScore),S.$set(R);let U=d;d=F(l),d===U?b[d].p(l,q):(te(),k(b[U],1,1,()=>{b[U]=null}),ne(),$=b[d],$?$.p(l,q):($=b[d]=E[d](l),$.c()),T($,1),$.m(j,null))},i(l){x||(T(s.$$.fragment,l),T(u.$$.fragment,l),T(Q.$$.fragment,l),T(w.$$.fragment,l),T(S.$$.fragment,l),T($),x=!0)},o(l){k(s.$$.fragment,l),k(u.$$.fragment,l),k(Q.$$.fragment,l),k(w.$$.fragment,l),k(S.$$.fragment,l),k($),x=!1},d(l){l&&O(t),A(s),A(u),A(Q),A(w),A(S),b[d].d()}}}function Se(o){let t,e;return t=new de({props:{title:o[5],showSheet:o[0],$$slots:{panel:[he],default:[$e]},$$scope:{ctx:o}}}),t.$on("onpanelstatus",o[15]),{c(){B(t.$$.fragment)},m(n,s){I(t,n,s),e=!0},p(n,s){const p={};s[0]&32&&(p.title=n[5]),s[0]&1&&(p.showSheet=n[0]),s[0]&94|s[1]&8&&(p.$$scope={dirty:s,ctx:n}),t.$set(p)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){k(t.$$.fragment,n),e=!1},d(n){A(t,n)}}}function we(o){let t,e;return t=new fe({props:{$$slots:{default:[Se]},$$scope:{ctx:o}}}),{c(){B(t.$$.fragment)},m(n,s){I(t,n,s),e=!0},p(n,s){const p={};s[0]&127|s[1]&8&&(p.$$scope={dirty:s,ctx:n}),t.$set(p)},i(n){e||(T(t.$$.fragment,n),e=!0)},o(n){k(t.$$.fragment,n),e=!1},d(n){A(t,n)}}}function ye(o,t,e){let n;re(o,ae,f=>e(26,n=f));let s=!1,p=[],c=[],u,i=!1;const h={createSection:"Add New Section",edit:"Edit Section"};let Q,a={sectionTitle:"",sectionDescription:"",sectionId:"",sectionScore:"",sectionTotalQuestions:"",questionType:""},W=JSON.stringify(a),w=["SN","Title","Description","Total Questions","Section Score","Action"],N=n.props.questionBankId,D=n.props.assessmentTitle;ie(()=>{C(),S()});const S=()=>{M.getWithToken("/api/question-types",{onSuccess:f=>{e(2,c=f.data.flatMap(V=>[{placeholder:V.toUpperCase(),value:V}]))}})},C=()=>{M.getWithToken(`/api/question-bank/sections/${N}`,{onSuccess:f=>{e(1,p=f.data)}})},j=()=>M.navigateTo(`/assessment/questions/question-bank/${N}`),d=()=>{e(4,i=!0),M.postWithToken("/api/question-bank/create/section",{questionBankId:N,title:a.sectionTitle,description:a.sectionDescription,questionType:a.questionType,sectionScore:a.sectionScore,totalQuestions:a.sectionTotalQuestions},{onSuccess:f=>{C(),b(),e(4,i=!1)},onError:f=>{e(4,i=!1)}})},$=f=>{e(6,a=f),F(h.edit)},x=()=>{e(4,i=!0),M.postWithToken(`/api/question-bank/update/section/${a.sectionId}`,{sectionTitle:a.sectionTitle,sectionDescription:a.sectionDescription,questionType:a.questionType,sectionScore:a.sectionScore,totalQuestions:a.sectionTotalQuestions},{onSuccess:f=>{C(),b(),e(4,i=!1)},onError:f=>{e(4,i=!1)}})},E=f=>{M.postWithToken(`/api/question-bank/delete/section/${f}`,{questionBankId:N},{onSuccess:V=>{C()}})},b=()=>{e(6,a=JSON.parse(W)),e(0,s=!1)},F=f=>{e(3,u=f),e(5,Q=f),e(0,s=!0)};return[s,p,c,u,i,Q,a,h,w,D,j,d,$,x,E,b,F,f=>e(6,a.sectionTitle=f.detail.input,a),f=>e(6,a.questionType=f.detail.value,a),f=>e(6,a.questionType="",a),f=>e(6,a.sectionDescription=f.detail.input,a),f=>e(6,a.sectionTotalQuestions=f.detail.input,a),f=>e(6,a.sectionScore=f.detail.input,a),()=>F(h.createSection),f=>$(f),f=>E(f.sectionId)]}class Fe extends se{constructor(t){super(),oe(this,t,ye,we,le,{},null,[-1,-1])}}export{Fe as default};
